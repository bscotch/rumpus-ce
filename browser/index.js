!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){"use strict";var n=r(4),o=r(16),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csv=function(e){return"string"==typeof e?e:e.join(",")},t.cleanQuery=function(e){var t={};if(!e)return t;for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];void 0===e[o]||null===e[o]||Array.isArray(e[o])&&!e[o].length||(t[o]=Array.isArray(e[o])?e[o].join(","):e[o])}return t}},function(e,t,r){"use strict";(function(e){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(14)),u=r(12),c=function(){function t(t,r,n){void 0===t&&(t=e.env.RUMPUS_DELEGATION_KEY),void 0===r&&(r="beta"),this.defaultDelegationKey=t,this._server=r,this._baseUrl="local"==r?"http://localhost:8080":"https://"+this._server+".bscotch.net",this._request=a.default.create({baseURL:this._baseUrl,auth:n}),this._levelheadAPI=u.createLevelheadAPI(this)}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"levelhead",{get:function(){return this._levelheadAPI},enumerable:!0,configurable:!0}),t.prototype.version=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.get("/api/version",{doNotUseKey:!0})];case 1:return e=t.sent(),[2,{server:this._server,rumpus:e.data,terms:e.headers["version-terms"],"terms-rce":e.headers["version-terms-rce"],privacy:e.headers["version-privacy"]}]}}))}))},t.prototype.delegationKeyPermissions=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.get("/api/delegation/keys/@this",{delegationKey:e})];case 1:if(200==(t=r.sent()).status)return[2,{userId:t.data.userId,passId:t.data.passId,permissions:t.data.permissions}];throw[400,403].includes(t.status)?new Error("Malformed or missing delegation key."):401==t.status?new Error("Expired delegation key."):new Error("Unexpected server response.")}}))}))},t.prototype.get=function(e,t){return this.request("get",e,t)},t.prototype.post=function(e,t){return this.request("post",e,t)},t.prototype.put=function(e,t){return this.request("put",e,t)},t.prototype.patch=function(e,t){return this.request("patch",e,t)},t.prototype.delete=function(e,t){return this.request("delete",e,t)},t.prototype.request=function(e,t,r){var s,a,u,c;return o(this,void 0,void 0,(function(){var o,l,f,h,p;return i(this,(function(i){switch(i.label){case 0:o={},l=(null===(s=r)||void 0===s?void 0:s.delegationKey)||this.defaultDelegationKey,!(null===(a=r)||void 0===a?void 0:a.doNotUseKey)&&l&&(o["Rumpus-Delegation-Key"]=l),(f={method:e,url:t,headers:o,responseType:"json"}).data=null===(u=r)||void 0===u?void 0:u.body,f.params=null===(c=r)||void 0===c?void 0:c.query,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._request(f)];case 2:return h=i.sent(),[3,4];case 3:if(!(p=i.sent()).response)throw p;return h=p.response,[3,4];case 4:return[2,n(n({},h.data),{headers:h.headers,status:h.status,requestId:h.headers["x-request-id"],remainingRequests:h.headers["x-rate-limit-remaining"]})]}}))}))},t}();t.default=c}).call(this,r(3))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(21),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?a=r(8):"undefined"!=typeof XMLHttpRequest&&(a=r(8)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u}).call(this,r(3))},function(e,t,r){"use strict";var n=r(0),o=r(22),i=r(5),s=r(24),a=r(25),u=r(9);e.exports=function(e){return new Promise((function(t,c){var l=e.data,f=e.headers;n.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",d=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+d)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};o(t,c,n),h=null}},h.onabort=function(){h&&(c(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var v=r(26),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&n.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),c(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,r){"use strict";var n=r(23);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={};return n.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(["headers","auth","proxy"],(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])})),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});i(r(2));var s=r(31),a=r(32),u=r(33);t.blankResultsPage=function e(){return n(this,void 0,void 0,(function(){var t;return o(this,(function(r){return(t=[]).nextPage=e,[2,t]}))}))},t.createLevelheadAPI=function(e){return{aliases:{search:s.getLevelheadAliases.bind(e)},levels:{search:a.getLevelheadLevels.bind(e),getTags:a.getLevelheadLevelTags.bind(e),getLikes:a.getLevelheadLevelLikes.bind(e),getFavorites:a.getLevelheadLevelFavorites.bind(e)},profiles:{search:u.getLevelheadProfiles.bind(e)}}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2));window.RumpusCE=o.default},function(e,t,r){e.exports=r(15)},function(e,t,r){"use strict";var n=r(0),o=r(4),i=r(17),s=r(10);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(r(7));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=r(11),u.CancelToken=r(29),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(30),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(0),o=r(5),i=r(18),s=r(19),a=r(10);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(20),i=r(6),s=r(7),a=r(27),u=r(28);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(11);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1);t.getLevelheadAliases=function(e,t,r){return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/aliases",n(n({},r),{query:s.cleanQuery(n(n({},t),{userIds:s.csv(e)}))}))];case 1:if(200==(o=i.sent()).status)return[2,o.data];throw new Error("Alias search failed with status "+o.status)}}))}))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),a=r(12),u={};function c(e,t){var r=t;return r.getLikes=function(r,n){return f.call(e,t.levelId,r,n)},r.getFavorites=function(r,n){return h.call(e,t.levelId,r,n)},r}function l(e,t,r,u){var c;return o(this,void 0,void 0,(function(){var o,f,h,p=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/levels/"+t+"/"+e,n(n({},u),{query:s.cleanQuery(r)}))];case 1:if(200==(o=i.sent()).status)return f=o.data,h=!(!f.length||(null===(c=r)||void 0===c?void 0:c.limit)&&r.limit!=f.length)&&f[f.length-1]._id,f.nextPage=function(){if(h){var o=n(n({},r),{beforeId:h});return l.bind(p)(e,t,o,u)}return a.blankResultsPage()},[2,f];throw new Error("Level "+e+" failed with status "+o.status)}}))}))}function f(e,t,r){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,l.call(this,"likes",e,t,r)]}))}))}function h(e,t,r){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,l.call(this,"favorites",e,t,r)]}))}))}t.addLevelFunctionality=c,t.getLevelheadLevelTags=function(e){return o(this,void 0,void 0,(function(){var t,r,o,s,a;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/level-tags/counts",n({},e))];case 1:if(200==(t=i.sent()).status){for(r=t.data,u={},o=0,s=r;o<s.length;o++)a=s[o],u[a.tag]=a.name;return[2,r]}throw new Error("Level tags request failed with status "+t.status)}}))}))},t.getLevelheadLevels=function(e,t){return o(this,void 0,void 0,(function(){var r,o,a,l,f,h,p,d,v;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/levels",n(n({},t),{query:s.cleanQuery(e)}))];case 1:if(200==(r=i.sent()).status){for(o=r.data,a=0,l=o;a<l.length;a++){for(f=l[a],h=[],p=0,d=f.tags;p<d.length;p++)v=d[p],h.push(u[v]);f.localizedTags=h.filter((function(e){return e})),c(this,f)}return[2,o]}throw new Error("Level search failed with status "+r.status)}}))}))},t.getLevelheadLevelLikes=f,t.getLevelheadLevelFavorites=h},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(1);t.getLevelheadProfiles=function(e,t){return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:return[4,this.get("/api/levelhead/players",n(n({},t),{query:s.cleanQuery(e)}))];case 1:if(200==(r=o.sent()).status)return[2,r.data];throw new Error("Profile search failed with status "+r.status)}}))}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWxpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9SdW1wdXNDRS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL3NyYy9saWIvYXBpL2luZGV4LnRzIiwid2VicGFjazovLy8uL2Jyb3dzZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2VuaGFuY2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hcGkvbGV2ZWxoZWFkL2FsaWFzZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hcGkvbGV2ZWxoZWFkL2xldmVscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL2FwaS9sZXZlbGhlYWQvcHJvZmlsZXMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0J1ZmZlciIsInRvU3RyaW5nIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJkZWVwTWVyZ2UiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsIml0ZW1zIiwiam9pbiIsInF1ZXJ5IiwiY2xlYW5RdWVyeSIsImtleXMiLCJmaWVsZCIsIkFycmF5IiwiZGVmYXVsdERlbGVnYXRpb25LZXkiLCJzZXJ2ZXIiLCJhdXRoIiwicHJvY2VzcyIsImVudiIsIlJVTVBVU19ERUxFR0FUSU9OX0tFWSIsInRoaXMiLCJfc2VydmVyIiwiX2Jhc2VVcmwiLCJfcmVxdWVzdCIsImJhc2VVUkwiLCJfbGV2ZWxoZWFkQVBJIiwiY3JlYXRlTGV2ZWxoZWFkQVBJIiwidmVyc2lvbiIsImRvTm90VXNlS2V5IiwicmVzIiwicnVtcHVzIiwiZGF0YSIsInRlcm1zIiwiaGVhZGVycyIsInByaXZhY3kiLCJkZWxlZ2F0aW9uS2V5UGVybWlzc2lvbnMiLCJkZWxlZ2F0aW9uS2V5Iiwic3RhdHVzIiwidXNlcklkIiwicGFzc0lkIiwicGVybWlzc2lvbnMiLCJpbmNsdWRlcyIsIkVycm9yIiwidXJsIiwib3B0aW9ucyIsInJlcXVlc3QiLCJwb3N0IiwicHV0IiwicGF0Y2giLCJkZWxldGUiLCJtZXRob2QiLCJyZXFPcHRzIiwicmVzcG9uc2VUeXBlIiwiYm9keSIsInBhcmFtcyIsInJlc3BvbnNlIiwicmVxdWVzdElkIiwicmVtYWluaW5nUmVxdWVzdHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsInB1c2giLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwidXRpbHMiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTZXJpYWxpemVyIiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImhhc2htYXJrSW5kZXgiLCJpbmRleE9mIiwic2xpY2UiLCJfX0NBTkNFTF9fIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwidHJhbnNmb3JtUmVzcG9uc2UiLCJwYXJzZSIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwib3BlbiIsInRvVXBwZXJDYXNlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uYWJvcnQiLCJvbmVycm9yIiwib250aW1lb3V0IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJ1bmRlZmluZWQiLCJ0b0xvd2VyQ2FzZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiY29uZmlnMSIsImNvbmZpZzIiLCJwcm9wIiwiQ2FuY2VsIiwiYmxhbmtSZXN1bHRzUGFnZSIsInJlc3VsdHMiLCJuZXh0UGFnZSIsImNsaWVudCIsImFsaWFzZXMiLCJzZWFyY2giLCJnZXRMZXZlbGhlYWRBbGlhc2VzIiwibGV2ZWxzIiwiZ2V0TGV2ZWxoZWFkTGV2ZWxzIiwiZ2V0VGFncyIsImdldExldmVsaGVhZExldmVsVGFncyIsImdldExpa2VzIiwiZ2V0TGV2ZWxoZWFkTGV2ZWxMaWtlcyIsImdldEZhdm9yaXRlcyIsImdldExldmVsaGVhZExldmVsRmF2b3JpdGVzIiwicHJvZmlsZXMiLCJnZXRMZXZlbGhlYWRQcm9maWxlcyIsIlJ1bXB1c0NFIiwiQXhpb3MiLCJtZXJnZUNvbmZpZyIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsImNvbnRleHQiLCJpbnN0YW5jZSIsImF4aW9zIiwiaW5zdGFuY2VDb25maWciLCJDYW5jZWxUb2tlbiIsImlzQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJzcHJlYWQiLCJkZWZhdWx0IiwiY29uc3RydWN0b3IiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJkaXNwYXRjaFJlcXVlc3QiLCJpbnRlcmNlcHRvcnMiLCJjaGFpbiIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic2hpZnQiLCJnZXRVcmkiLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaWQiLCJoIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwicmVhc29uIiwiZm5zIiwibm9ybWFsaXplZE5hbWUiLCJpc0F4aW9zRXJyb3IiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInN0YWNrIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZWQiLCJzcGxpdCIsImxpbmUiLCJzdWJzdHIiLCJvcmlnaW5VUkwiLCJtc2llIiwidGVzdCIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwiY3JlYXRlRWxlbWVudCIsInJlc29sdmVVUkwiLCJocmVmIiwic2V0QXR0cmlidXRlIiwicHJvdG9jb2wiLCJob3N0IiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwicmVsYXRpdmVVUkwiLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwidG9rZW4iLCJzb3VyY2UiLCJjYWxsYmFjayIsImFyciIsInVzZXJJZHMiLCJjc3YiLCJfY2FjaGVkbG9jYWxpemVkVGFncyIsImFkZExldmVsRnVuY3Rpb25hbGl0eSIsImxldmVsIiwiZmFuY3lMZXZlbCIsImxldmVsSWQiLCJnZXRMZXZlbGhlYWRMZXZlbFVzZXJMaXN0IiwibGlzdFR5cGUiLCJ1c2VycyIsImxpbWl0IiwiX2lkIiwibmV3UXVlcnkiLCJiZWZvcmVJZCIsInRhZ3MiLCJ0YWciLCJsb2NhbGl6ZWRUYWdzIiwiZmlsdGVyIiwieCJdLCJtYXBw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ZixFQUFzQnBSLEtBQUtxUixHQUU3QixNQUFPLENBQVAsRUFBT3pHLEdBR1AsTUFBTSxJQUFJdEosTUFBTSxtQ0FBbUNiLEVBQUlRLGdCQXlDM0QsMkJBU0EsZ0MsaXJEQ2pIQSxXQU1BLGdDQUNJNUIsRUFDQW1DLEcsZ0dBRVUsU0FBTXhCLEtBQUs1RSxJQUFJLHlCQUF3QixPQUM5Q29HLEdBQU8sQ0FDVm5DLE1BQU0sRUFBQUMsV0FBV0QsTyxPQUVuQixHQUFlLE1BSlRvQixFQUFNLFVBSUxRLE9BQ0wsTUFBTyxDQUFQLEVBQU9SLEVBQUlFLE1BR1gsTUFBTSxJQUFJVyxNQUFNLHFDQUFxQ2IsRUFBSVEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgKG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOYXRpdmVTY3JpcHQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdOUycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBlcXVhbCB0byBtZXJnZSB3aXRoIHRoZSBkaWZmZXJlbmNlIGJlaW5nIHRoYXQgbm8gcmVmZXJlbmNlXG4gKiB0byBvcmlnaW5hbCBvYmplY3RzIGlzIGtlcHQuXG4gKlxuICogQHNlZSBtZXJnZVxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZGVlcE1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5mdW5jdGlvbiBleHRlbmQoYSwgYiwgdGhpc0FyZykge1xuICBmb3JFYWNoKGIsIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHRoaXNBcmcgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0FycmF5OiBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyOiBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIGRlZXBNZXJnZTogZGVlcE1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIlxuZXhwb3J0IGZ1bmN0aW9uIGNzdiAoaXRlbXM6QXJyYXk8YW55PnxzdHJpbmcpe1xuICBpZih0eXBlb2YgaXRlbXMgPT0gJ3N0cmluZycpe1xuICAgIHJldHVybiBpdGVtcztcbiAgfVxuICByZXR1cm4gaXRlbXMuam9pbignLCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5RdWVyeSAocXVlcnk/OntbcGFyYW06c3RyaW5nXTpzdHJpbmd8Ym9vbGVhbnxzdHJpbmdbXXxudW1iZXJ8bnVsbHx1bmRlZmluZWR9KXtcbiAgY29uc3QgY2xlYW5RdWVyeToge1twYXJhbTpzdHJpbmddOnN0cmluZ3xib29sZWFufG51bWJlcn0gPSB7fTtcbiAgaWYoIXF1ZXJ5KXtcbiAgICByZXR1cm4gY2xlYW5RdWVyeTtcbiAgfVxuICBmb3IoY29uc3QgZmllbGQgb2YgT2JqZWN0LmtleXMocXVlcnkpKXtcbiAgICBpZiggdHlwZW9mIHF1ZXJ5W2ZpZWxkXSAhPSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBxdWVyeVtmaWVsZF0hPT1udWxsICYmXG4gICAgICAgICghQXJyYXkuaXNBcnJheShxdWVyeVtmaWVsZF0pfHwocXVlcnlbZmllbGRdIGFzIEFycmF5PGFueT4pLmxlbmd0aCkpe1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgY2xlYW5RdWVyeVtmaWVsZF0gPSBBcnJheS5pc0FycmF5KHF1ZXJ5W2ZpZWxkXSlcbiAgICAgICAgPyAocXVlcnlbZmllbGRdIGFzIEFycmF5PGFueT4pLmpvaW4oJywnKVxuICAgICAgICA6IHF1ZXJ5W2ZpZWxkXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsZWFuUXVlcnk7XG59IiwiaW1wb3J0IGF4aW9zLCB7XG4gIEF4aW9zSW5zdGFuY2UsXG4gIEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgQXhpb3NSZXNwb25zZVxufSBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUxldmVsaGVhZEFQSSxcbiAgTGV2ZWxoZWFkQVBJXG59IGZyb20gXCIuL2FwaVwiO1xuXG50eXBlIE1ldGhvZCA9IFwiZ2V0XCJ8XCJwb3N0XCJ8XCJwYXRjaFwifFwicHV0XCJ8XCJkZWxldGVcIjtcbnR5cGUgU2VydmVyID0gXCJsb2NhbFwifFwiZGV2XCJ8XCJiZXRhXCI7XG5leHBvcnQgdHlwZSBWZXJzaW9uZWRJdGVtID0gJ3ByaXZhY3knfCd0ZXJtcyd8J3Rlcm1zLXJjZSd8J3J1bXB1cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZWdhdGlvbk9wdGlvbnMge1xuICBkZWxlZ2F0aW9uS2V5Pzogc3RyaW5nLFxuICBkb05vdFVzZUtleT86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIFJlcXVlc3RPcHRpb25zIGV4dGVuZHMgRGVsZWdhdGlvbk9wdGlvbnMge1xuICBib2R5PzogYW55LFxuICBxdWVyeT86IHtbcGFyYW06c3RyaW5nXTpzdHJpbmd8bnVtYmVyfGJvb2xlYW58dW5kZWZpbmVkfVxufVxuXG5pbnRlcmZhY2UgUnVtcHVzUmVzcG9uc2Uge1xuICBzdGF0dXM6IG51bWJlcixcbiAgZGF0YTogYW55LFxuICBtZXRhPzogYW55LFxuICBtZXNzYWdlPzogc3RyaW5nLFxuICBsb2NhdGlvbj86IHN0cmluZyxcbiAgbmV4dD86IHN0cmluZyxcbiAgZXJyb3JzOiBhbnlbXSxcbiAgaGVhZGVyczoge1toZWFkZXI6c3RyaW5nXTpzdHJpbmd9LFxuICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgcmVtYWluaW5nUmVxdWVzdHM6IG51bWJlcixcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVtcHVzQ0Uge1xuXG4gIHByaXZhdGUgX3NlcnZlcjogU2VydmVyO1xuICBwcml2YXRlIF9yZXF1ZXN0OiBBeGlvc0luc3RhbmNlO1xuICBwcml2YXRlIF9sZXZlbGhlYWRBUEk6IExldmVsaGVhZEFQSTtcbiAgcHJpdmF0ZSBfYmFzZVVybDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBkZWZhdWx0RGVsZWdhdGlvbktleTpzdHJpbmd8dW5kZWZpbmVkID0gcHJvY2Vzcy5lbnYuUlVNUFVTX0RFTEVHQVRJT05fS0VZLFxuICAgIHNlcnZlcjpTZXJ2ZXIgPSAnYmV0YScsXG4gICAgYXV0aD86e3VzZXJuYW1lOnN0cmluZyxwYXNzd29yZDpzdHJpbmd9XG4gICl7XG4gICAgdGhpcy5fc2VydmVyID0gc2VydmVyO1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBzZXJ2ZXIgPT0gJ2xvY2FsJ1xuICAgICAgPyAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJ1xuICAgICAgOiBgaHR0cHM6Ly8ke3RoaXMuX3NlcnZlcn0uYnNjb3RjaC5uZXRgO1xuICAgIHRoaXMuX3JlcXVlc3QgPSBheGlvcy5jcmVhdGUoe2Jhc2VVUkw6dGhpcy5fYmFzZVVybCxhdXRofSk7XG4gICAgdGhpcy5fbGV2ZWxoZWFkQVBJID0gY3JlYXRlTGV2ZWxoZWFkQVBJKHRoaXMpO1xuICB9XG5cbiAgZ2V0IGJhc2VVcmwoKXsgcmV0dXJuIHRoaXMuX2Jhc2VVcmw7IH1cblxuICBnZXQgbGV2ZWxoZWFkKCl7IHJldHVybiB0aGlzLl9sZXZlbGhlYWRBUEk7IH1cblxuICBhc3luYyB2ZXJzaW9uKCl7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoJy9hcGkvdmVyc2lvbicse2RvTm90VXNlS2V5OnRydWV9KTtcbiAgICByZXR1cm4ge1xuICAgICAgc2VydmVyOiB0aGlzLl9zZXJ2ZXIsXG4gICAgICBydW1wdXM6IHJlcy5kYXRhIGFzIHN0cmluZyxcbiAgICAgIHRlcm1zOiByZXMuaGVhZGVyc1sndmVyc2lvbi10ZXJtcyddLFxuICAgICAgJ3Rlcm1zLXJjZSc6IHJlcy5oZWFkZXJzWyd2ZXJzaW9uLXRlcm1zLXJjZSddLFxuICAgICAgcHJpdmFjeTogcmVzLmhlYWRlcnNbJ3ZlcnNpb24tcHJpdmFjeSddXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGRlbGVnYXRpb25LZXlQZXJtaXNzaW9ucyhkZWxlZ2F0aW9uS2V5PzpzdHJpbmcpe1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KCcvYXBpL2RlbGVnYXRpb24va2V5cy9AdGhpcycse2RlbGVnYXRpb25LZXl9KTtcbiAgICBpZihyZXMuc3RhdHVzPT0yMDApe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcklkOiByZXMuZGF0YS51c2VySWQsXG4gICAgICAgIHBhc3NJZDogcmVzLmRhdGEucGFzc0lkLFxuICAgICAgICBwZXJtaXNzaW9uczogcmVzLmRhdGEucGVybWlzc2lvbnNcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYoWzQwMCw0MDNdLmluY2x1ZGVzKHJlcy5zdGF0dXMpKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBvciBtaXNzaW5nIGRlbGVnYXRpb24ga2V5LlwiKTtcbiAgICB9XG4gICAgZWxzZSBpZihyZXMuc3RhdHVzPT00MDEpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwaXJlZCBkZWxlZ2F0aW9uIGtleS5cIik7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHNlcnZlciByZXNwb25zZS5cIik7XG4gICAgfVxuICB9XG5cbiAgZ2V0ICh1cmw6c3RyaW5nLG9wdGlvbnM/OlJlcXVlc3RPcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLHVybCxvcHRpb25zKTtcbiAgfVxuXG4gIHBvc3QgKHVybDpzdHJpbmcsb3B0aW9ucz86UmVxdWVzdE9wdGlvbnMpe1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ3Bvc3QnLHVybCxvcHRpb25zKTtcbiAgfVxuXG4gIHB1dCAodXJsOnN0cmluZyxvcHRpb25zPzpSZXF1ZXN0T3B0aW9ucyl7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgncHV0Jyx1cmwsb3B0aW9ucyk7XG4gIH1cblxuICBwYXRjaCAodXJsOnN0cmluZyxvcHRpb25zPzpSZXF1ZXN0T3B0aW9ucyl7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgncGF0Y2gnLHVybCxvcHRpb25zKTtcbiAgfVxuXG4gIGRlbGV0ZSAodXJsOnN0cmluZyxvcHRpb25zPzpSZXF1ZXN0T3B0aW9ucyl7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZGVsZXRlJyx1cmwsb3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyByZXF1ZXN0KG1ldGhvZDpNZXRob2QsdXJsOnN0cmluZyxvcHRpb25zPzpSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8UnVtcHVzUmVzcG9uc2U+e1xuICAgIGNvbnN0IGhlYWRlcnM6IHsnUnVtcHVzLURlbGVnYXRpb24tS2V5Jz86c3RyaW5nfSA9IHt9O1xuICAgIGNvbnN0IGtleSA9IG9wdGlvbnM/LmRlbGVnYXRpb25LZXkgfHwgdGhpcy5kZWZhdWx0RGVsZWdhdGlvbktleTtcbiAgICBpZighb3B0aW9ucz8uZG9Ob3RVc2VLZXkgJiYga2V5KXtcbiAgICAgIGhlYWRlcnNbJ1J1bXB1cy1EZWxlZ2F0aW9uLUtleSddID0ga2V5O1xuICAgIH1cbiAgICBjb25zdCByZXFPcHRzOiBBeGlvc1JlcXVlc3RDb25maWcgPSB7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBoZWFkZXJzLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfTtcbiAgICByZXFPcHRzLmRhdGEgPSBvcHRpb25zPy5ib2R5O1xuICAgIHJlcU9wdHMucGFyYW1zID0gb3B0aW9ucz8ucXVlcnk7XG4gICAgbGV0IHJlczogQXhpb3NSZXNwb25zZTtcbiAgICB0cnl7XG4gICAgICByZXMgPSBhd2FpdCB0aGlzLl9yZXF1ZXN0KHJlcU9wdHMpO1xuICAgIH1cbiAgICBjYXRjaChlcnIpe1xuICAgICAgaWYoIWVyci5yZXNwb25zZSl7XG4gICAgICAgIC8vIFNvbWV0aGluZyB0ZXJyaWJsZSBoYXMgaGFwcGVuZWQhXG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIC8vIERvbid0IGFzc3VtZSB0aGF0IGFuICdlcnJvcicgcmVzcG9uc2UgdHJ1bHkgaXMgYW4gZXJyb3IsXG4gICAgICAvLyBzaW5jZSB0aGUgbWVhbmluZyBvZiBlLmcuIGEgNDA0IGlzIGVuZHBvaW50LXNwZWNpZmljLlxuICAgICAgcmVzID0gZXJyLnJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzLmRhdGEsXG4gICAgICBoZWFkZXJzOnJlcy5oZWFkZXJzLFxuICAgICAgc3RhdHVzOiByZXMuc3RhdHVzLFxuICAgICAgcmVxdWVzdElkOiByZXMuaGVhZGVyc1sneC1yZXF1ZXN0LWlkJ10sXG4gICAgICByZW1haW5pbmdSZXF1ZXN0czogcmVzLmhlYWRlcnNbJ3gtcmF0ZS1saW1pdC1yZW1haW5pbmcnXVxuICAgIH07XG4gIH1cbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHZhciBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG5cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgLy8gT25seSBOb2RlLkpTIGhhcyBhIHByb2Nlc3MgdmFyaWFibGUgdGhhdCBpcyBvZiBbW0NsYXNzXV0gcHJvY2Vzc1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICB2YXIgY29uZmlnID0ge307XG5cbiAgdXRpbHMuZm9yRWFjaChbJ3VybCcsICdtZXRob2QnLCAncGFyYW1zJywgJ2RhdGEnXSwgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goWydoZWFkZXJzJywgJ2F1dGgnLCAncHJveHknXSwgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhwcm9wKSB7XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGNvbmZpZzJbcHJvcF0pKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSB1dGlscy5kZWVwTWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChjb25maWcxW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgdXRpbHMuZm9yRWFjaChbXG4gICAgJ2Jhc2VVUkwnLCAndHJhbnNmb3JtUmVxdWVzdCcsICd0cmFuc2Zvcm1SZXNwb25zZScsICdwYXJhbXNTZXJpYWxpemVyJyxcbiAgICAndGltZW91dCcsICd3aXRoQ3JlZGVudGlhbHMnLCAnYWRhcHRlcicsICdyZXNwb25zZVR5cGUnLCAneHNyZkNvb2tpZU5hbWUnLFxuICAgICd4c3JmSGVhZGVyTmFtZScsICdvblVwbG9hZFByb2dyZXNzJywgJ29uRG93bmxvYWRQcm9ncmVzcycsICdtYXhDb250ZW50TGVuZ3RoJyxcbiAgICAndmFsaWRhdGVTdGF0dXMnLCAnbWF4UmVkaXJlY3RzJywgJ2h0dHBBZ2VudCcsICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJyxcbiAgICAnc29ja2V0UGF0aCdcbiAgXSwgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCJpbXBvcnQgUnVtcHVzQ0UgZnJvbSBcIi4uL1J1bXB1c0NFXCI7XG5pbXBvcnQge1xuICBnZXRMZXZlbGhlYWRBbGlhc2VzXG59IGZyb20gXCIuL2xldmVsaGVhZC9hbGlhc2VzXCI7XG5pbXBvcnQge1xuICBnZXRMZXZlbGhlYWRMZXZlbHMsXG4gIGdldExldmVsaGVhZExldmVsVGFncyxcbiAgZ2V0TGV2ZWxoZWFkTGV2ZWxMaWtlcyxcbiAgZ2V0TGV2ZWxoZWFkTGV2ZWxGYXZvcml0ZXNcbn0gZnJvbSBcIi4vbGV2ZWxoZWFkL2xldmVsc1wiO1xuaW1wb3J0IHtcbiAgZ2V0TGV2ZWxoZWFkUHJvZmlsZXNcbn0gZnJvbSBcIi4vbGV2ZWxoZWFkL3Byb2ZpbGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0c1BhZ2U8dD4gZXh0ZW5kcyBBcnJheTx0PiB7XG4gIC8qKiBGZXRjaCB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMgZnJvbSB0aGUgQVBJLiAqL1xuICBuZXh0UGFnZSgpOlByb21pc2U8UmVzdWx0c1BhZ2U8dD4+XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBibGFua1Jlc3VsdHNQYWdlKCl7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXSBhcyBSZXN1bHRzUGFnZTxuZXZlcj47XG4gIHJlc3VsdHMubmV4dFBhZ2UgPSBibGFua1Jlc3VsdHNQYWdlO1xuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxldmVsaGVhZEFQSShjbGllbnQ6UnVtcHVzQ0Upe1xuICByZXR1cm4ge1xuICAgIGFsaWFzZXM6e1xuICAgICAgc2VhcmNoOiBnZXRMZXZlbGhlYWRBbGlhc2VzLmJpbmQoY2xpZW50KVxuICAgIH0sXG4gICAgbGV2ZWxzOntcbiAgICAgIHNlYXJjaDogZ2V0TGV2ZWxoZWFkTGV2ZWxzLmJpbmQoY2xpZW50KSxcbiAgICAgIGdldFRhZ3M6IGdldExldmVsaGVhZExldmVsVGFncy5iaW5kKGNsaWVudCksXG4gICAgICBnZXRMaWtlczogZ2V0TGV2ZWxoZWFkTGV2ZWxMaWtlcy5iaW5kKGNsaWVudCksXG4gICAgICBnZXRGYXZvcml0ZXM6IGdldExldmVsaGVhZExldmVsRmF2b3JpdGVzLmJpbmQoY2xpZW50KSxcbiAgICB9LFxuICAgIHByb2ZpbGVzOntcbiAgICAgIHNlYXJjaDogZ2V0TGV2ZWxoZWFkUHJvZmlsZXMuYmluZChjbGllbnQpXG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBsaEFQSUR1bW15ID0gKGZhbHNlIGFzIHRydWUpICYmIGNyZWF0ZUxldmVsaGVhZEFQSShuZXcgUnVtcHVzQ0UoKSk7XG5leHBvcnQgdHlwZSBMZXZlbGhlYWRBUEkgPSB0eXBlb2YgbGhBUElEdW1teTtcbiIsImltcG9ydCBSdW1wdXNDRSBmcm9tIFwiLi4vc3JjL2xpYi9SdW1wdXNDRVwiO1xuXG4vLyBAdHMtaWdub3JlXG53aW5kb3cuUnVtcHVzQ0UgPSBSdW1wdXNDRTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIG1lcmdlQ29uZmlnID0gcmVxdWlyZSgnLi9jb3JlL21lcmdlQ29uZmlnJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGF4aW9zLmRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiZcbiAgICB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL21lcmdlQ29uZmlnJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSBhcmd1bWVudHNbMV0gfHwge307XG4gICAgY29uZmlnLnVybCA9IGFyZ3VtZW50c1swXTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gIH1cblxuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZCA/IGNvbmZpZy5tZXRob2QudG9Mb3dlckNhc2UoKSA6ICdnZXQnO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5BeGlvcy5wcm90b3R5cGUuZ2V0VXJpID0gZnVuY3Rpb24gZ2V0VXJpKGNvbmZpZykge1xuICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICByZXR1cm4gYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLnJlcGxhY2UoL15cXD8vLCAnJyk7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuXG4gIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuXG4gIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgY29kZTogdGhpcy5jb2RlXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUnVtcHVzQ0UsIERlbGVnYXRpb25PcHRpb25zfSBmcm9tIFwiLi4vLi4vUnVtcHVzQ0VcIjtcbmltcG9ydCB7Y2xlYW5RdWVyeSxjc3Z9IGZyb20gXCIuLi8uLi91dGlsaXR5XCI7XG5cbmV4cG9ydCB0eXBlIEFsaWFzU2VhcmNoT3B0aW9ucyA9IHtcbiAgdXNlcklkczogc3RyaW5nW118c3RyaW5nLFxuICBvbmx5U2FmZT86IGJvb2xlYW4sXG4gIG1heFJlcG9ydHM/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbGlhcyB7XG4gIHVzZXJJZDogc3RyaW5nLFxuICBhbGlhczogc3RyaW5nLFxuICBhdmF0YXJJZDogc3RyaW5nLFxuICBjb250ZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZEFsaWFzZXModGhpczpSdW1wdXNDRVxuICAsIHVzZXJJZHM6IHN0cmluZ3xzdHJpbmdbXVxuICAsIHF1ZXJ5PzogQWxpYXNTZWFyY2hPcHRpb25zXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmdldChgL2FwaS9sZXZlbGhlYWQvYWxpYXNlc2Ase1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6IGNsZWFuUXVlcnkoey4uLnF1ZXJ5LHVzZXJJZHM6Y3N2KHVzZXJJZHMpfSlcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgcmV0dXJuIHJlcy5kYXRhIGFzIEFsaWFzW107XG4gIH1cbiAgZWxzZXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFsaWFzIHNlYXJjaCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUnVtcHVzQ0UsIERlbGVnYXRpb25PcHRpb25zfSBmcm9tIFwiLi4vLi4vUnVtcHVzQ0VcIjtcbmltcG9ydCB7Y2xlYW5RdWVyeX0gZnJvbSBcIi4uLy4uL3V0aWxpdHlcIjtcbmltcG9ydCB7XG4gIExpc3RlZFVzZXJJZCxcbiAgTGV2ZWxoZWFkTGV2ZWwsXG4gIExldmVsaGVhZExldmVsVGFnLFxuICBMZXZlbGhlYWRMZXZlbFNlYXJjaCxcbiAgTGV2ZWxoZWFkTGV2ZWxEb3dubG9hZFxufSBmcm9tIFwiLi9sZXZlbHMuZFwiO1xuaW1wb3J0IHtSZXN1bHRzUGFnZSwgYmxhbmtSZXN1bHRzUGFnZX0gZnJvbSBcIi4uXCI7XG5cbmxldCBfY2FjaGVkbG9jYWxpemVkVGFnczoge1t0YWc6c3RyaW5nXTpzdHJpbmd9ID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRMZXZlbEZ1bmN0aW9uYWxpdHkoY2xpZW50OlJ1bXB1c0NFLGxldmVsOkxldmVsaGVhZExldmVsRG93bmxvYWQpe1xuICBjb25zdCBmYW5jeUxldmVsID0gbGV2ZWwgYXMgTGV2ZWxoZWFkTGV2ZWwgO1xuICBmYW5jeUxldmVsLmdldExpa2VzID0gKFxuICAgIHF1ZXJ5PzogTGV2ZWxoZWFkTGV2ZWxMaWtlc1NlYXJjaCxcbiAgICBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbiAgKT0+Z2V0TGV2ZWxoZWFkTGV2ZWxMaWtlcy5jYWxsKGNsaWVudCxsZXZlbC5sZXZlbElkLHF1ZXJ5LG9wdGlvbnMpO1xuICBmYW5jeUxldmVsLmdldEZhdm9yaXRlcyA9IChcbiAgICBxdWVyeT86IExldmVsaGVhZExldmVsTGlrZXNTZWFyY2gsXG4gICAgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4gICk9PmdldExldmVsaGVhZExldmVsRmF2b3JpdGVzLmNhbGwoY2xpZW50LGxldmVsLmxldmVsSWQscXVlcnksb3B0aW9ucyk7XG4gIHJldHVybiBmYW5jeUxldmVsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkTGV2ZWxUYWdzKHRoaXM6UnVtcHVzQ0VcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9sZXZlbC10YWdzL2NvdW50c2Asey4uLm9wdGlvbnN9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICBjb25zdCB0YWdzID0gcmVzLmRhdGEgYXMgTGV2ZWxoZWFkTGV2ZWxUYWdbXTtcbiAgICBfY2FjaGVkbG9jYWxpemVkVGFncyA9IHt9O1xuICAgIGZvcihjb25zdCB0YWcgb2YgdGFncyl7XG4gICAgICBfY2FjaGVkbG9jYWxpemVkVGFnc1t0YWcudGFnXSA9IHRhZy5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gdGFncztcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgTGV2ZWwgdGFncyByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZExldmVscyh0aGlzOlJ1bXB1c0NFXG4gICwgcXVlcnk/OiBMZXZlbGhlYWRMZXZlbFNlYXJjaFxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoYC9hcGkvbGV2ZWxoZWFkL2xldmVsc2Ase1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6Y2xlYW5RdWVyeShxdWVyeSlcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgY29uc3QgbGV2ZWxzID0gcmVzLmRhdGEgYXMgTGV2ZWxoZWFkTGV2ZWxbXTtcbiAgICBmb3IoY29uc3QgbGV2ZWwgb2YgbGV2ZWxzKXtcbiAgICAgIGNvbnN0IGxvY2FsaXplZFRhZ3MgPSBbXTtcbiAgICAgIGZvcihjb25zdCB0YWcgb2YgbGV2ZWwudGFncyl7XG4gICAgICAgIGxvY2FsaXplZFRhZ3MucHVzaChfY2FjaGVkbG9jYWxpemVkVGFnc1t0YWddKTtcbiAgICAgIH1cbiAgICAgIGxldmVsLmxvY2FsaXplZFRhZ3MgPSBsb2NhbGl6ZWRUYWdzLmZpbHRlcih4PT54KTtcbiAgICAgIGFkZExldmVsRnVuY3Rpb25hbGl0eSh0aGlzLGxldmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIGxldmVscztcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgTGV2ZWwgc2VhcmNoIGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkTGV2ZWxVc2VyTGlzdCh0aGlzOlJ1bXB1c0NFXG4gICwgbGlzdFR5cGU6ICdsaWtlcyd8J2Zhdm9yaXRlcydcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IHtsaW1pdD86bnVtYmVyLHVzZXJJZHM/OnN0cmluZ3xzdHJpbmdbXSxiZWZvcmVJZD86c3RyaW5nLGluY2x1ZGVBbGlhc2VzPzpib29sZWFufVxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoYC9hcGkvbGV2ZWxoZWFkL2xldmVscy8ke2xldmVsSWR9LyR7bGlzdFR5cGV9YCx7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBxdWVyeTpjbGVhblF1ZXJ5KHF1ZXJ5KVxuICB9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICBjb25zdCB1c2VycyA9IHJlcy5kYXRhIGFzIFJlc3VsdHNQYWdlPExpc3RlZFVzZXJJZD47XG4gICAgY29uc3QgbGFzdElkID0gdXNlcnMubGVuZ3RoICYmICghcXVlcnk/LmxpbWl0IHx8IHF1ZXJ5LmxpbWl0ID09IHVzZXJzLmxlbmd0aClcbiAgICAgID8gdXNlcnNbdXNlcnMubGVuZ3RoLTFdLl9pZFxuICAgICAgOiBmYWxzZSA7XG4gICAgdXNlcnMubmV4dFBhZ2UgPSAoKT0+e1xuICAgICAgaWYobGFzdElkKXtcbiAgICAgICAgY29uc3QgbmV3UXVlcnkgPSB7Li4ucXVlcnksYmVmb3JlSWQ6bGFzdElkfTtcbiAgICAgICAgcmV0dXJuIGdldExldmVsaGVhZExldmVsVXNlckxpc3QuYmluZCh0aGlzKShsaXN0VHlwZSxsZXZlbElkLG5ld1F1ZXJ5LG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsYW5rUmVzdWx0c1BhZ2UoKTtcbiAgICB9O1xuICAgIHJldHVybiB1c2VycztcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgTGV2ZWwgJHtsaXN0VHlwZX0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c31gKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExldmVsaGVhZExldmVsTGlrZXNTZWFyY2h7XG4gIGxpbWl0PzpudW1iZXIsXG4gIHVzZXJJZHM/OnN0cmluZ3xzdHJpbmdbXSxcbiAgYmVmb3JlSWQ/OnN0cmluZyxcbiAgaW5jbHVkZUFsaWFzZXM/OmJvb2xlYW5cbn1cblxuLyoqIEdldCB0aGUgbGlzdCBvZiB1c2VySWRzIGZvciB1c2VycyB3aG8gbGlrZWQgdGhpcyBsZXZlbC4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMZXZlbGhlYWRMZXZlbExpa2VzKHRoaXM6UnVtcHVzQ0VcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IExldmVsaGVhZExldmVsTGlrZXNTZWFyY2hcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIHJldHVybiBnZXRMZXZlbGhlYWRMZXZlbFVzZXJMaXN0LmNhbGwodGhpcywnbGlrZXMnLGxldmVsSWQscXVlcnksb3B0aW9ucyk7XG59XG5cbi8qKiBHZXQgdGhlIGxpc3Qgb2YgdXNlcklkcyBmb3IgdXNlcnMgd2hvIGZhdm9yaXRlZCB0aGlzIGxldmVsLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZExldmVsRmF2b3JpdGVzKHRoaXM6UnVtcHVzQ0VcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IHtsaW1pdD86bnVtYmVyLHVzZXJJZHM/OnN0cmluZ3xzdHJpbmdbXSxiZWZvcmVJZD86c3RyaW5nLGluY2x1ZGVBbGlhc2VzPzpib29sZWFufVxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgcmV0dXJuIGdldExldmVsaGVhZExldmVsVXNlckxpc3QuY2FsbCh0aGlzLCdmYXZvcml0ZXMnLGxldmVsSWQscXVlcnksb3B0aW9ucyk7XG59XG5cbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSdW1wdXNDRSwgRGVsZWdhdGlvbk9wdGlvbnN9IGZyb20gXCIuLi8uLi9SdW1wdXNDRVwiO1xuaW1wb3J0IHtjbGVhblF1ZXJ5fSBmcm9tIFwiLi4vLi4vdXRpbGl0eVwiO1xuaW1wb3J0IHtcbiAgTGV2ZWxoZWFkUHJvZmlsZSxcbiAgTGV2ZWxoZWFkUHJvZmlsZVNlYXJjaFxufSBmcm9tIFwiLi9wcm9maWxlcy5kXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMZXZlbGhlYWRQcm9maWxlcyh0aGlzOlJ1bXB1c0NFXG4gICwgcXVlcnk/OiBMZXZlbGhlYWRQcm9maWxlU2VhcmNoXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmdldChgL2FwaS9sZXZlbGhlYWQvcGxheWVyc2Ase1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6Y2xlYW5RdWVyeShxdWVyeSlcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgcmV0dXJuIHJlcy5kYXRhIGFzIExldmVsaGVhZFByb2ZpbGVbXTtcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgUHJvZmlsZSBzZWFyY2ggZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c31gKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==