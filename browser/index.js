!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){"use strict";var n=r(4),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r="png");var n=Math.max(Math.min(t||128,512),16);return"https://img.bscotch.net/fit-in/"+n+"x"+n+"/avatars/"+e+"."+r}function o(e){return e.avatarUrl=function(t,r){return void 0===r&&(r="png"),n(e.avatarId,t,r)},e}Object.defineProperty(t,"__esModule",{value:!0}),t.csv=function(e){return"string"==typeof e?e:e.join(",")},t.avatarUrl=n,t.attachAvatarUrlToItem=o,t.attachAvatarUrlToArrayItems=function(e){for(var t=0,r=e;t<r.length;t++){o(r[t])}return e},t.cleanQuery=function(e){var t={};if(!e)return t;for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];void 0===e[o]||null===e[o]||Array.isArray(e[o])&&!e[o].length||(t[o]=Array.isArray(e[o])?e[o].join(","):e[o])}return t},t.capitalize=function(e){return e&&"string"==typeof e?""+e[0].toLocaleUpperCase()+e.slice(1):""}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1);function s(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){return(e=[]).nextPage=s,[2,e]}))}))}t.blankResultsPage=s,t.addNextPageSearchFunction=function(e,t,r,o,i,u){var c;if(t.nextPage=s,t.length&&(r||!(null==o?void 0:o.limit)||o.limit==t.length))if(r){var l=r.replace(/.*nextPageToken=([a-z0-9]+).*?/i,"$1");t.nextPage=function(){return u.call(e,{nextPageToken:l,paging:!0},i)}}else{var f=n({},o),h=f.sort||"",d=t[t.length-1],p=h.replace(/^-/,""),v="-"==h[0]?"min":"max";v+=a.capitalize(p),f[v]=d[p]||(null===(c=d.stats)||void 0===c?void 0:c[p]),void 0!==f[v]&&(f.tiebreakerItemId=d._id,t.nextPage=function(){return u.call(e,f,i)})}return t}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(21),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=r(8)),s),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u}).call(this,r(3))},function(e,t,r){"use strict";var n=r(0),o=r(22),i=r(5),a=r(24),s=r(27),u=r(28),c=r(9);e.exports=function(e){return new Promise((function(t,l){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password||"";h.Authorization="Basic "+btoa(p+":"+v)}var y=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};o(t,l,n),d=null}},d.onabort=function(){d&&(l(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(29),b=(e.withCredentials||u(y))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&n.forEach(h,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),l(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,r){"use strict";var n=r(23);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(i,(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])})),n.forEach(a,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var s=o.concat(i).concat(a),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(u,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1);t.getLevelheadBookmarks=function(e,t){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=n({},e)).sort=r.sort||"createdAt",[4,this.get("/api/levelhead/bookmarks",n(n({},t),{query:a.cleanQuery(e)}))];case 1:if(200==(o=i.sent()).status)return[2,o.data];throw new Error("Bookmark search failed with status "+o.status)}}))}))},t.bookmarkLevelheadLevel=function(e,t){return o(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.put("/api/levelhead/bookmarks/"+e,t)];case 1:if(204!=(r=n.sent()).status)throw console.log(r),new Error(404==r.status?"Level does not exist!":"Unable to bookmark level");return[2,!0]}}))}))},t.unbookmarkLevelheadLevel=function(e,t){return o(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.delete("/api/levelhead/bookmarks/"+e,t)];case 1:if(204!=(r=n.sent()).status)throw console.log(r),new Error("Unable to unbookmark level");return[2,!0]}}))}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(14));window.RumpusCE=o.default},function(e,t,r){"use strict";(function(e){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(15)),u=r(32),c=function(){function t(t,r,n){void 0===t&&(t=e.env.RUMPUS_DELEGATION_KEY),void 0===r&&(r="beta"),this.defaultDelegationKey=t,this._server=r,this._baseUrl="local"==r?"http://localhost:8080":"https://"+this._server+".bscotch.net",this._request=s.default.create({baseURL:this._baseUrl,auth:n}),this._levelheadAPI=u.createLevelheadAPI(this)}return Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"levelhead",{get:function(){return this._levelheadAPI},enumerable:!0,configurable:!0}),t.prototype.version=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.get("/api/version",{doNotUseKey:!0})];case 1:return e=t.sent(),[2,{server:this._server,rumpus:e.data,terms:e.headers["version-terms"],"terms-rce":e.headers["version-terms-rce"],privacy:e.headers["version-privacy"]}]}}))}))},t.prototype.delegationKeyPermissions=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.get("/api/delegation/keys/@this",{delegationKey:e})];case 1:if(200==(t=r.sent()).status)return[2,{userId:t.data.userId,passId:t.data.passId,permissions:t.data.permissions}];throw[400,403].includes(t.status)?new Error("Malformed or missing delegation key."):401==t.status?new Error("Expired delegation key."):new Error("Unexpected server response.")}}))}))},t.prototype.get=function(e,t){return this.request("get",e,t)},t.prototype.post=function(e,t){return this.request("post",e,t)},t.prototype.put=function(e,t){return this.request("put",e,t)},t.prototype.patch=function(e,t){return this.request("patch",e,t)},t.prototype.delete=function(e,t){return this.request("delete",e,t)},t.prototype.request=function(e,t,r){return o(this,void 0,void 0,(function(){var o,a,s,u,c;return i(this,(function(i){switch(i.label){case 0:o={},a=(null==r?void 0:r.delegationKey)||this.defaultDelegationKey,!(null==r?void 0:r.doNotUseKey)&&a&&(o["Rumpus-Delegation-Key"]=a),(s={method:e,url:t,headers:o,responseType:"json"}).data=null==r?void 0:r.body,s.params=null==r?void 0:r.query,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._request(s)];case 2:return u=i.sent(),[3,4];case 3:if(!(c=i.sent()).response)throw c;return u=c.response,[3,4];case 4:return[2,n(n({},u.data),{headers:u.headers,status:u.status,requestId:u.headers["x-request-id"],remainingRequests:u.headers["x-rate-limit-remaining"]})]}}))}))},t}();t.default=c}).call(this,r(3))},function(e,t,r){e.exports=r(16)},function(e,t,r){"use strict";var n=r(0),o=r(4),i=r(17),a=r(10);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=s(r(7));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=r(11),u.CancelToken=r(30),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(31),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(0),o=r(5),i=r(18),a=r(19),s=r(10);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(20),i=r(6),a=r(7);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(9);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(25),o=r(26);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(11);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),o=r(34),i=r(35),a=r(12);t.createLevelheadAPI=function(e){return{aliases:{search:n.getLevelheadAliases.bind(e)},bookmarks:{search:a.getLevelheadBookmarks.bind(e),add:a.bookmarkLevelheadLevel.bind(e),remove:a.unbookmarkLevelheadLevel.bind(e)},levels:{search:o.getLevelheadLevels.bind(e),getTags:o.getLevelheadLevelTags.bind(e),getLikes:o.getLevelheadLevelLikes.bind(e),getFavorites:o.getLevelheadLevelFavorites.bind(e)},players:{search:i.getLevelheadPlayers.bind(e),getPlayer:i.getLevelheadPlayer.bind(e),getLikedLevels:i.getLevelheadLikedLevels.bind(e),getFavoritedLevels:i.getLevelheadFavoritedLevels.bind(e),getFollowers:i.getLevelheadPlayerFollowers.bind(e),getFollowing:i.getLevelheadPlayerFollowing.bind(e),follow:i.followLevelheadPlayer.bind(e),unfollow:i.unfollowLevelheadPlayer.bind(e)}}}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1);t.getLevelheadAliases=function(e,t,r){return o(this,void 0,void 0,(function(){var o,s;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/aliases",n(n({},r),{query:a.cleanQuery(n(n({},t),{userIds:a.csv(e)}))}))];case 1:if(200==(o=i.sent()).status)return s=o.data,a.attachAvatarUrlToArrayItems(s),[2,s];throw new Error("Alias search failed with status "+o.status)}}))}))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(12),u=r(2),c=r(2);function l(e,t,r,s){return o(this,void 0,void 0,(function(){var o,u,f,h=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/levels/"+t+"/"+e,n(n({},s),{query:a.cleanQuery(r)}))];case 1:if(200==(o=i.sent()).status)return u=o.data,f=!(!u.length||(null==r?void 0:r.limit)&&r.limit!=u.length)&&u[u.length-1]._id,u.nextPage=function(){if(f){var o=n(n({},r),{beforeId:f});return l.bind(h)(e,t,o,s)}return c.blankResultsPage()},[2,u];throw new Error("Level "+e+" failed with status "+o.status)}}))}))}function f(e,t,r){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,l.call(this,"likes",e,t,r)]}))}))}function h(e,t,r){return o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,l.call(this,"favorites",e,t,r)]}))}))}t.getLevelheadLevelTags=function(e){return o(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.get("/api/levelhead/level-tags/counts",n({},e))];case 1:if(200==(t=r.sent()).status)return[2,t.data];throw new Error("Level tags request failed with status "+t.status)}}))}))},t.getLevelheadLevelLikes=f,t.getLevelheadLevelFavorites=h,t.getLevelheadLevels=function e(t,r){return o(this,void 0,void 0,(function(){var o,c,l,d=this;return i(this,(function(i){switch(i.label){case 0:return(o=n({},t)).sort=o.sort||"createdAt",[4,this.get("/api/levelhead/levels",n(n({},r),{query:a.cleanQuery(o)}))];case 1:if(200==(c=i.sent()).status)return l=c.data.map((function(e){return function(e,t){var r=t;return r.getLikes=function(r,n){return f.call(e,t.levelId,r,n)},r.getFavorites=function(r,n){return h.call(e,t.levelId,r,n)},r.bookmark=function(r){return s.bookmarkLevelheadLevel.call(e,t.levelId,r)},r.unbookmark=function(r){return s.unbookmarkLevelheadLevel.call(e,t.levelId,r)},r}(d,e)})),a.attachAvatarUrlToArrayItems(l),u.addNextPageSearchFunction(this,l,c.next,o,r,e),[2,l];throw new Error("Level search failed with status "+c.status)}}))}))}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=r(2);function u(e,t,r,c){return o(this,void 0,void 0,(function(){var o,l,f,h=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/players/"+t+"/"+e,n(n({},c),{query:a.cleanQuery(r)}))];case 1:if(200==(o=i.sent()).status)return l=o.data,f=!(!l.length||(null==r?void 0:r.limit)&&r.limit!=l.length)&&l[l.length-1]._id,l.nextPage=function(){if(f){var o=n(n({},r),{beforeId:f});return u.bind(h)(e,t,o,c)}return s.blankResultsPage()},[2,l];throw new Error("Level "+e+" failed with status "+o.status)}}))}))}function c(e,t,r){return void 0===e&&(e="@me"),o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,u.call(this,"likes",e,t,r)]}))}))}function l(e,t,r){return void 0===e&&(e="@me"),o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,u.call(this,"favorites",e,t,r)]}))}))}function f(e,t,r,u){return o(this,void 0,void 0,(function(){var o,c,l,h=this;return i(this,(function(i){switch(i.label){case 0:return[4,this.get("/api/levelhead/players/"+t+"/"+e,n(n({},u),{query:a.cleanQuery(r)}))];case 1:if(200==(o=i.sent()).status)return c=o.data,l=!(!c.length||(null==r?void 0:r.limit)&&r.limit!=c.length)&&c[c.length-1]._id,c.nextPage=function(){if(l){var o=n(n({},r),{beforeId:l});return f.bind(h)(e,t,o,u)}return s.blankResultsPage()},[2,c];throw new Error("Player "+e+" search failed with status "+o.status)}}))}))}function h(e,t,r){return void 0===e&&(e="@me"),o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,f.call(this,"followers",e,t,r)]}))}))}function d(e,t,r){return void 0===e&&(e="@me"),o(this,void 0,void 0,(function(){return i(this,(function(n){return[2,f.call(this,"following",e,t,r)]}))}))}function p(e,t){return o(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.put("/api/levelhead/following/"+e,t)];case 1:if(204!=(r=n.sent()).status)throw new Error(404==r.status?"Player does not exist!":"Unable to follow player");return[2,!0]}}))}))}function v(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.delete("/api/levelhead/following/"+e,t)];case 1:if(204!=r.sent().status)throw new Error("Unable to unfollow player");return[2,!0]}}))}))}function y(e,t){return o(this,void 0,void 0,(function(){var r,o,u,f=this;return i(this,(function(i){switch(i.label){case 0:return(r=n({},e)).sort=r.sort||"createdAt",[4,this.get("/api/levelhead/players",n(n({},t),{query:a.cleanQuery(r)}))];case 1:if(200==(o=i.sent()).status)return u=o.data.map((function(e){return function(e,t){var r=t;return r.getLikedLevels=function(r,n){return c.call(e,t.userId,r,n)},r.getFavoritedLevels=function(r,n){return l.call(e,t.userId,r,n)},r.getFollowers=function(r,n){return h.call(e,t.userId,r,n)},r.getFollowing=function(r,n){return d.call(e,t.userId,r,n)},r.follow=function(r){return p.call(e,t.userId,r)},r.unfollow=function(r){return v.call(e,t.userId,r)},r}(f,e)})),s.addNextPageSearchFunction(this,u,o.next,r,t,y),[2,u];throw new Error("Player search failed with status "+o.status)}}))}))}t.getLevelheadLikedLevels=c,t.getLevelheadFavoritedLevels=l,t.getLevelheadPlayerFollowers=h,t.getLevelheadPlayerFollowing=d,t.followLevelheadPlayer=p,t.unfollowLevelheadPlayer=v,t.getLevelheadPlayers=y,t.getLevelheadPlayer=function(e,t){return void 0===e&&(e="@me"),o(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,y.call(this,{userIds:e,limit:1},t)];case 1:if(!(r=n.sent()).length)throw new Error("That player does not exist");return[2,r[0]]}}))}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL3V0aWxpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hcGkvcGFnaW5nLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hcGkvbGV2ZWxoZWFkL2Jvb2ttYXJrcy50cyIsIndlYnBhY2s6Ly8vLi9icm93c2VyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvUnVtcHVzQ0UudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovLy8uL3NyYy9saWIvYXBpL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvYXBpL2xldmVsaGVhZC9hbGlhc2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvYXBpL2xldmVsaGVhZC9sZXZlbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9hcGkvbGV2ZWxoZWFkL3BsYXllcnMudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc1VuZGVmaW5lZCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0J1ZmZlciIsImNvbnN0cnVjdG9yIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc1N0cmVhbSIsInBpcGUiLCJpc1VSTFNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlzU3RhbmRhcmRCcm93c2VyRW52IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsIndpbmRvdyIsImRvY3VtZW50IiwibWVyZ2UiLCJyZXN1bHQiLCJhc3NpZ25WYWx1ZSIsImFyZ3VtZW50cyIsImRlZXBNZXJnZSIsImV4dGVuZCIsImEiLCJiIiwidGhpc0FyZyIsInRyaW0iLCJzdHIiLCJyZXBsYWNlIiwiYXZhdGFyVXJsIiwiYXZhdGFySWQiLCJwaXhlbHMiLCJpbWdUeXBlIiwid2lkdGgiLCJNYXRoIiwibWF4IiwibWluIiwiYXR0YWNoQXZhdGFyVXJsVG9JdGVtIiwiaXRlbSIsIml0ZW1zIiwiam9pbiIsInF1ZXJ5IiwiY2xlYW5RdWVyeSIsImtleXMiLCJmaWVsZCIsIkFycmF5Iiwic3RyaW5nIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJzbGljZSIsImJsYW5rUmVzdWx0c1BhZ2UiLCJyZXN1bHRzIiwibmV4dFBhZ2UiLCJjbGllbnQiLCJwYWdlIiwibmV4dExpbmsiLCJvcHRpb25zIiwic2VhcmNoIiwibGltaXQiLCJuZXh0UGFnZVRva2VuIiwicGFnaW5nIiwic29ydFBhcmFtIiwic29ydCIsImxhc3RMZXZlbCIsInNvcnRGaWVsZCIsInNraXBGaWx0ZXIiLCJjYXBpdGFsaXplIiwic3RhdHMiLCJ0aWVicmVha2VySXRlbUlkIiwiX2lkIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJlIiwidGhpcyIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJhcmdzIiwicHVzaCIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwidXRpbHMiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ1cmwiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsInRvSVNPU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsImhhc2htYXJrSW5kZXgiLCJpbmRleE9mIiwiX19DQU5DRUxfXyIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImhlYWRlcnMiLCJhZGFwdGVyIiwiZGVmYXVsdHMiLCJYTUxIdHRwUmVxdWVzdCIsInRyYW5zZm9ybVJlcXVlc3QiLCJkYXRhIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJwYXJzZSIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJzZXR0bGUiLCJidWlsZFVSTCIsImJ1aWxkRnVsbFBhdGgiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3QiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwiZnVsbFBhdGgiLCJiYXNlVVJMIiwib3BlbiIsInRvVXBwZXJDYXNlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJ0aW1lb3V0RXJyb3JNZXNzYWdlIiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJ1bmRlZmluZWQiLCJ0b0xvd2VyQ2FzZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiY29uZmlnMSIsImNvbmZpZzIiLCJ2YWx1ZUZyb21Db25maWcyS2V5cyIsIm1lcmdlRGVlcFByb3BlcnRpZXNLZXlzIiwiZGVmYXVsdFRvQ29uZmlnMktleXMiLCJwcm9wIiwiYXhpb3NLZXlzIiwib3RoZXJLZXlzIiwiZmlsdGVyIiwiQ2FuY2VsIiwicXVlcnlQYXJhbXMiLCJyZXMiLCJsZXZlbElkIiwicHV0IiwiY29uc29sZSIsImxvZyIsImRlbGV0ZSIsIlJ1bXB1c0NFIiwiZGVmYXVsdERlbGVnYXRpb25LZXkiLCJzZXJ2ZXIiLCJSVU1QVVNfREVMRUdBVElPTl9LRVkiLCJfc2VydmVyIiwiX2Jhc2VVcmwiLCJfcmVxdWVzdCIsIl9sZXZlbGhlYWRBUEkiLCJjcmVhdGVMZXZlbGhlYWRBUEkiLCJkb05vdFVzZUtleSIsInJ1bXB1cyIsInRlcm1zIiwicHJpdmFjeSIsImRlbGVnYXRpb25LZXlQZXJtaXNzaW9ucyIsImRlbGVnYXRpb25LZXkiLCJ1c2VySWQiLCJwYXNzSWQiLCJwZXJtaXNzaW9ucyIsImluY2x1ZGVzIiwicG9zdCIsInBhdGNoIiwicmVxT3B0cyIsImJvZHkiLCJyZXF1ZXN0SWQiLCJyZW1haW5pbmdSZXF1ZXN0cyIsIkF4aW9zIiwibWVyZ2VDb25maWciLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImdldFVyaSIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJpZCIsImgiLCJ0cmFuc2Zvcm1EYXRhIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJyZWFzb24iLCJmbnMiLCJub3JtYWxpemVkTmFtZSIsImlzQXhpb3NFcnJvciIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhY2siLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJyZXF1ZXN0ZWRVUkwiLCJ0ZXN0IiwicmVsYXRpdmVVUkwiLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsIndyaXRlIiwiZXhwaXJlcyIsInBhdGgiLCJkb21haW4iLCJzZWN1cmUiLCJjb29raWUiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJtYXRjaCIsIlJlZ0V4cCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZSIsIm5vdyIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwiYXJyIiwiYWxpYXNlcyIsImdldExldmVsaGVhZEFsaWFzZXMiLCJib29rbWFya3MiLCJnZXRMZXZlbGhlYWRCb29rbWFya3MiLCJhZGQiLCJib29rbWFya0xldmVsaGVhZExldmVsIiwidW5ib29rbWFya0xldmVsaGVhZExldmVsIiwibGV2ZWxzIiwiZ2V0TGV2ZWxoZWFkTGV2ZWxzIiwiZ2V0VGFncyIsImdldExldmVsaGVhZExldmVsVGFncyIsImdldExpa2VzIiwiZ2V0TGV2ZWxoZWFkTGV2ZWxMaWtlcyIsImdldEZhdm9yaXRlcyIsImdldExldmVsaGVhZExldmVsRmF2b3JpdGVzIiwicGxheWVycyIsImdldExldmVsaGVhZFBsYXllcnMiLCJnZXRQbGF5ZXIiLCJnZXRMZXZlbGhlYWRQbGF5ZXIiLCJnZXRMaWtlZExldmVscyIsImdldExldmVsaGVhZExpa2VkTGV2ZWxzIiwiZ2V0RmF2b3JpdGVkTGV2ZWxzIiwiZ2V0TGV2ZWxoZWFkRmF2b3JpdGVkTGV2ZWxzIiwiZ2V0Rm9sbG93ZXJzIiwiZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93ZXJzIiwiZ2V0Rm9sbG93aW5nIiwiZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93aW5nIiwiZm9sbG93IiwiZm9sbG93TGV2ZWxoZWFkUGxheWVyIiwidW5mb2xsb3ciLCJ1bmZvbGxvd0xldmVsaGVhZFBsYXllciIsInVzZXJJZHMiLCJjc3YiLCJhdHRhY2hBdmF0YXJVcmxUb0FycmF5SXRlbXMiLCJnZXRMZXZlbGhlYWRMZXZlbFVzZXJMaXN0IiwibGlzdFR5cGUiLCJ1c2VycyIsIm5ld1F1ZXJ5IiwiYmVmb3JlSWQiLCJtYXAiLCJsZXZlbCIsImZhbmN5TGV2ZWwiLCJib29rbWFyayIsInVuYm9va21hcmsiLCJhZGRMZXZlbEZ1bmN0aW9uYWxpdHkiLCJhZGROZXh0UGFnZVNlYXJjaEZ1bmN0aW9uIiwibmV4dCIsImdldExldmVsaGVhZFBsYXllckxldmVsTGlzdCIsImdldExldmVsaGVhZFBsYXllckZvbGxvd3MiLCJwbGF5ZXIiLCJmYW5jeVBsYXllciIsImFkZFBsYXllckZ1bmN0aW9uYWxpdHkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FB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TWMsSUFFL0RpVixFQUFZdkIsT0FBUyxTQUNuQjFULEdBQ0csT0FBQTJULEVBQXNCL1osS0FBS2lHLEVBQU9tVixFQUFPckosT0FBTzNMLElBRXJEaVYsRUFBWXJCLFNBQVcsU0FDckI1VCxHQUNHLE9BQUE2VCxFQUF3QmphLEtBQUtpRyxFQUFPbVYsRUFBT3JKLE9BQU8zTCxJQUVoRGlWLEVBZ0JVQyxDQUF1QixFQUFLRixNQUMzQyxFQUFBSiwwQkFBMEJwVCxLQUFLc1IsRUFBUXhJLEVBQUl1SyxLQUFLeEssRUFBWXJLLEVBQVErUyxHQUM3RCxDQUFQLEVBQU9ELEdBR1AsTUFBTSxJQUFJNVIsTUFBTSxvQ0FBb0NvSixFQUFJdEUsZUFqSjVELDRCQVNBLGdDQXdDQSxnQ0FTQSxnQ0FTQSwwQkFZQSw0QkFpREEsd0JBc0JBLDhCQUNJMkYsRUFDQTNMLEcsWUFEQSxJQUFBMkwsTUFBQSxPLHlGQUdjLFNBQU1vSCxFQUFvQm5aLEtBQUs0SCxLQUFLLENBQUNzUyxRQUFRbkksRUFBT3pMLE1BQU0sR0FBR0YsSSxPQUM3RSxLQURNOFMsRUFBVSxVQUNKNVcsT0FDVixNQUFNLElBQUlnRixNQUFNLDhCQUVsQixNQUFPLENBQVAsRUFBTzRSLEVBQVEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIChuYXZpZ2F0b3IucHJvZHVjdCA9PT0gJ1JlYWN0TmF0aXZlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTmF0aXZlU2NyaXB0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnTlMnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICApO1xufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbikge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG1lcmdlKHJlc3VsdFtrZXldLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gZXF1YWwgdG8gbWVyZ2Ugd2l0aCB0aGUgZGlmZmVyZW5jZSBiZWluZyB0aGF0IG5vIHJlZmVyZW5jZVxuICogdG8gb3JpZ2luYWwgb2JqZWN0cyBpcyBrZXB0LlxuICpcbiAqIEBzZWUgbWVyZ2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGRlZXBNZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2tleV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZXBNZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBkZWVwTWVyZ2U6IGRlZXBNZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJcbmV4cG9ydCBmdW5jdGlvbiBjc3YgKGl0ZW1zOkFycmF5PGFueT58c3RyaW5nKXtcbiAgaWYodHlwZW9mIGl0ZW1zID09ICdzdHJpbmcnKXtcbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zLmpvaW4oJywnKTtcbn1cblxudHlwZSBJbWFnZVR5cGUgPSAnd2VicCd8J3BuZyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdmF0YXJVcmwgKGF2YXRhcklkOnN0cmluZyxwaXhlbHM/Om51bWJlcixpbWdUeXBlOkltYWdlVHlwZT0ncG5nJyl7XG4gIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoTWF0aC5taW4ocGl4ZWxzIHx8IDEyOCw1MTIpLDE2KTtcbiAgcmV0dXJuIGBodHRwczovL2ltZy5ic2NvdGNoLm5ldC9maXQtaW4vJHt3aWR0aH14JHt3aWR0aH0vYXZhdGFycy8ke2F2YXRhcklkfS4ke2ltZ1R5cGV9YDtcbn1cblxuaW50ZXJmYWNlIEF2YXRhckl0ZW1CYXNlIHtcbiAgYXZhdGFySWQ6IHN0cmluZyxcbiAgYXZhdGFyVXJsKHBpeGVscz86bnVtYmVyLGltZ1R5cGU/OkltYWdlVHlwZSk6IHN0cmluZ1xufVxuXG4vKiogQWRkIGFuIGF2YXRhci1VUkwtZ2VuZXJhdGluZyBgYXZhdGFyVXJsKClgIG1ldGhvZCB0byBhbiBvYmplY3QgdGhhdCBoYXMgYW4gYGF2YXRhcklkYCBmaWVsZC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hBdmF0YXJVcmxUb0l0ZW0gPGl0ZW0gZXh0ZW5kcyBBdmF0YXJJdGVtQmFzZT4gKGl0ZW06aXRlbSl7XG4gIGl0ZW0uYXZhdGFyVXJsID0gKHBpeGVscz86bnVtYmVyLGltZ1R5cGU6SW1hZ2VUeXBlPSdwbmcnKT0+YXZhdGFyVXJsKGl0ZW0uYXZhdGFySWQscGl4ZWxzLGltZ1R5cGUpO1xuICByZXR1cm4gaXRlbTtcbn1cblxuLyoqIEFkZCBhdmF0YXItVVJMLWdlbmVyYXRpbmcgYGF2YXRhclVybCgpYCBtZXRob2RzIHRvIGFuIG9iamVjdHMgdGhhdCBoYXZlIGFuIGBhdmF0YXJJZGAgZmllbGQuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoQXZhdGFyVXJsVG9BcnJheUl0ZW1zIDxpdGVtIGV4dGVuZHMgQXZhdGFySXRlbUJhc2U+IChpdGVtczppdGVtW10pe1xuICBmb3IoY29uc3QgaXRlbSBvZiBpdGVtcyl7XG4gICAgYXR0YWNoQXZhdGFyVXJsVG9JdGVtKGl0ZW0pO1xuICB9XG4gIHJldHVybiBpdGVtcztcbn1cblxuLyoqIEZvciBhbiBIVFRQIHF1ZXJ5IG9iamVjdCwgY29udmVydCBhbGwgYXJyYXkgdmFsdWVzIGludG8gQ1NWcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblF1ZXJ5IChxdWVyeT86e1twYXJhbTpzdHJpbmddOnN0cmluZ3xib29sZWFufHN0cmluZ1tdfG51bWJlcnxudWxsfHVuZGVmaW5lZH0pe1xuICBjb25zdCBjbGVhblF1ZXJ5OiB7W3BhcmFtOnN0cmluZ106c3RyaW5nfGJvb2xlYW58bnVtYmVyfSA9IHt9O1xuICBpZighcXVlcnkpe1xuICAgIHJldHVybiBjbGVhblF1ZXJ5O1xuICB9XG4gIGZvcihjb25zdCBmaWVsZCBvZiBPYmplY3Qua2V5cyhxdWVyeSkpe1xuICAgIGlmKCB0eXBlb2YgcXVlcnlbZmllbGRdICE9ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHF1ZXJ5W2ZpZWxkXSE9PW51bGwgJiZcbiAgICAgICAgKCFBcnJheS5pc0FycmF5KHF1ZXJ5W2ZpZWxkXSl8fChxdWVyeVtmaWVsZF0gYXMgQXJyYXk8YW55PikubGVuZ3RoKSl7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBjbGVhblF1ZXJ5W2ZpZWxkXSA9IEFycmF5LmlzQXJyYXkocXVlcnlbZmllbGRdKVxuICAgICAgICA/IChxdWVyeVtmaWVsZF0gYXMgQXJyYXk8YW55Pikuam9pbignLCcpXG4gICAgICAgIDogcXVlcnlbZmllbGRdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xlYW5RdWVyeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUgKHN0cmluZzpzdHJpbmcpe1xuICBpZighc3RyaW5nIHx8IHR5cGVvZiBzdHJpbmcgIT0gJ3N0cmluZycpe1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gYCR7c3RyaW5nWzBdLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtzdHJpbmcuc2xpY2UoMSl9YDtcbn1cbiIsIlxuaW1wb3J0IHtcbiAgY2FwaXRhbGl6ZVxufSBmcm9tIFwiLi4vdXRpbGl0eVwiO1xuaW1wb3J0IFJ1bXB1c0NFIGZyb20gXCIuLi9SdW1wdXNDRVwiO1xuXG5pbnRlcmZhY2UgQmFzZVF1ZXJ5QXV0byB7XG4gIG5leHRQYWdlVG9rZW4/OnN0cmluZyxcbiAgcGFnaW5nPzpib29sZWFuXG59XG5cbmludGVyZmFjZSBCYXNlUXVlcnlNYW51YWwge1xuICBsaW1pdD86IG51bWJlcixcbiAgc29ydD86IHN0cmluZyxcbiAgdGllYnJlYWtlckl0ZW1JZD86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQmFzZVF1ZXJ5IGV4dGVuZHMgQmFzZVF1ZXJ5QXV0bywgQmFzZVF1ZXJ5TWFudWFsIHt9XG5cbmludGVyZmFjZSBJdGVtIHtcbiAgX2lkOiBzdHJpbmdcbn1cblxuLyoqIEFuIGFycmF5IHRoYXQgaW5jbHVlZGVzIGEgYG5leHRQYWdlKClgIGZ1bmN0aW9uLCByZXByZXNlbnRpbmcgYSBcInBhZ2VcIiBvZiBzZWFyY2ggcmVzdWx0cy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdWx0c1BhZ2U8dD4gZXh0ZW5kcyBBcnJheTx0PiB7XG4gIC8qKiBGZXRjaCB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMgZnJvbSB0aGUgQVBJLiAqL1xuICBuZXh0UGFnZSgpOlByb21pc2U8UmVzdWx0c1BhZ2U8dD4+XG59XG5cbi8qKiBSZXR1cm4gYSBSZXN1bHRzUGFnZSB3aG9zZSBgbmV4dFBhZ2UoKWAgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGFuIGVtcHR5IFJlc3VsdHNQYWdlLiBGb3IgZXhoYXVzdGVkIHNlYXJjaGVzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJsYW5rUmVzdWx0c1BhZ2UoKXtcbiAgY29uc3QgcmVzdWx0cyA9IFtdIGFzIFJlc3VsdHNQYWdlPG5ldmVyPjtcbiAgcmVzdWx0cy5uZXh0UGFnZSA9IGJsYW5rUmVzdWx0c1BhZ2U7XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoRnVuY3Rpb24ge1xuICBjYWxsPGl0ZW0gZXh0ZW5kcyBJdGVtLHF1ZXJ5IGV4dGVuZHMgQmFzZVF1ZXJ5LG9wdGlvbnM+KGNsaWVudDpSdW1wdXNDRSwgcXVlcnk/OiBxdWVyeSxvcHRpb25zPzpvcHRpb25zKTpQcm9taXNlPFJlc3VsdHNQYWdlPGl0ZW0+Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5leHRQYWdlU2VhcmNoRnVuY3Rpb248aXRlbSBleHRlbmRzIEl0ZW0scXVlcnkgZXh0ZW5kcyBCYXNlUXVlcnksb3B0aW9ucz4oXG4gIGNsaWVudDogUnVtcHVzQ0UsXG4gIHBhZ2U6IFJlc3VsdHNQYWdlPGl0ZW0+LFxuICBuZXh0TGluazpzdHJpbmd8dW5kZWZpbmVkLFxuICBxdWVyeTpxdWVyeSxcbiAgb3B0aW9uczpvcHRpb25zLFxuICBzZWFyY2g6IFNlYXJjaEZ1bmN0aW9uXG4pe1xuICBwYWdlLm5leHRQYWdlID0gYmxhbmtSZXN1bHRzUGFnZTtcbiAgY29uc3QgaGFzTmV4dFBhZ2UgPSBwYWdlLmxlbmd0aCAmJlxuICAgIChuZXh0TGluayB8fCAoIXF1ZXJ5Py5saW1pdCB8fCBxdWVyeS5saW1pdCA9PSBwYWdlLmxlbmd0aCkpO1xuXG4gIGlmKGhhc05leHRQYWdlKXtcbiAgICBpZihuZXh0TGluayl7XG4gICAgICAvLyBUaGVuIGNvbnRpbnVlIHVzaW5nIHNlcnZlci1iYXNlZCBwYWdpbmdcbiAgICAgIGNvbnN0IG5leHRQYWdlVG9rZW4gPSBuZXh0TGluay5yZXBsYWNlKC8uKm5leHRQYWdlVG9rZW49KFthLXowLTldKykuKj8vaSxcIiQxXCIpO1xuICAgICAgcGFnZS5uZXh0UGFnZSA9ICgpPT5zZWFyY2guY2FsbChjbGllbnQse25leHRQYWdlVG9rZW4scGFnaW5nOnRydWV9LG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7Li4ucXVlcnl9IGFzIEJhc2VRdWVyeU1hbnVhbDtcbiAgICAgIC8vIFRoZW4gbmVlZCBcIm1hbnVhbFwiIHBhZ2luZywgYmFzZWQgb24gdGhlIGxhc3QtcmV0dXJuZWQgcmVzdWx0IGFuZCB0aGUgc29ydGluZyBtZWNoYW5pc20uXG4gICAgICBjb25zdCBzb3J0UGFyYW0gPSAocXVlcnlQYXJhbXMuc29ydHx8JycpO1xuICAgICAgY29uc3QgbGFzdExldmVsID0gcGFnZVtwYWdlLmxlbmd0aC0xXTtcbiAgICAgIGNvbnN0IHNvcnRGaWVsZCA9IHNvcnRQYXJhbS5yZXBsYWNlKC9eLS8sJycpO1xuICAgICAgLy8gTmVlZCB0byBzZXQgYSBtaW4vbWF4IGJhc2VkIG9uIHRoZSBzb3J0IGZpZWxkIGFuZCBkaXJlY3Rpb24gdG8gZ2V0IHRvIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy5cbiAgICAgIC8vIEEgJy0nIHByZWZpeCBtZWFucyB0aGUgc29ydCBpcyBBU0NFTkRJTkcsIHdoaWxlIGRlZmF1bHQgaXMgREVTQ0VORElORy5cbiAgICAgIGxldCBza2lwRmlsdGVyID0gc29ydFBhcmFtWzBdID09IFwiLVwiID8gXCJtaW5cIiA6IFwibWF4XCI7XG4gICAgICBza2lwRmlsdGVyICs9IGNhcGl0YWxpemUoc29ydEZpZWxkKTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHF1ZXJ5UGFyYW1zW3NraXBGaWx0ZXJdID0gbGFzdExldmVsW3NvcnRGaWVsZF0gfHwgbGFzdExldmVsLnN0YXRzPy5bc29ydEZpZWxkXTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmKHR5cGVvZiBxdWVyeVBhcmFtc1tza2lwRmlsdGVyXSAhPSAndW5kZWZpbmVkJyl7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLnRpZWJyZWFrZXJJdGVtSWQgPSBsYXN0TGV2ZWwuX2lkO1xuICAgICAgICBwYWdlLm5leHRQYWdlID0gKCk9PnNlYXJjaC5jYWxsKGNsaWVudCxxdWVyeVBhcmFtcyxvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhZ2U7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyU0MC9naSwgJ0AnKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgcGFyYW1zU2VyaWFsaXplcikge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgdmFyIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIGlmIChwYXJhbXNTZXJpYWxpemVyKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtc1NlcmlhbGl6ZXIocGFyYW1zKTtcbiAgfSBlbHNlIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgdXRpbHMuZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWwsIGtleSkge1xuICAgICAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh1dGlscy5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAga2V5ID0ga2V5ICsgJ1tdJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IFt2YWxdO1xuICAgICAgfVxuXG4gICAgICB1dGlscy5mb3JFYWNoKHZhbCwgZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7XG4gICAgICAgIGlmICh1dGlscy5pc0RhdGUodikpIHtcbiAgICAgICAgICB2ID0gdi50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KHYpKSB7XG4gICAgICAgICAgdiA9IEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlKGtleSkgKyAnPScgKyBlbmNvZGUodikpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICB2YXIgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuXG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQWNjZXB0Jyk7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgYnVpbGRGdWxsUGF0aCA9IHJlcXVpcmUoJy4uL2NvcmUvYnVpbGRGdWxsUGF0aCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICB2YXIgdGltZW91dEVycm9yTWVzc2FnZSA9ICd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCc7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKHRpbWVvdXRFcnJvck1lc3NhZ2UsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGZ1bGxQYXRoKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIWNvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gIHZhciB2YWx1ZUZyb21Db25maWcyS2V5cyA9IFsndXJsJywgJ21ldGhvZCcsICdwYXJhbXMnLCAnZGF0YSddO1xuICB2YXIgbWVyZ2VEZWVwUHJvcGVydGllc0tleXMgPSBbJ2hlYWRlcnMnLCAnYXV0aCcsICdwcm94eSddO1xuICB2YXIgZGVmYXVsdFRvQ29uZmlnMktleXMgPSBbXG4gICAgJ2Jhc2VVUkwnLCAndXJsJywgJ3RyYW5zZm9ybVJlcXVlc3QnLCAndHJhbnNmb3JtUmVzcG9uc2UnLCAncGFyYW1zU2VyaWFsaXplcicsXG4gICAgJ3RpbWVvdXQnLCAnd2l0aENyZWRlbnRpYWxzJywgJ2FkYXB0ZXInLCAncmVzcG9uc2VUeXBlJywgJ3hzcmZDb29raWVOYW1lJyxcbiAgICAneHNyZkhlYWRlck5hbWUnLCAnb25VcGxvYWRQcm9ncmVzcycsICdvbkRvd25sb2FkUHJvZ3Jlc3MnLFxuICAgICdtYXhDb250ZW50TGVuZ3RoJywgJ3ZhbGlkYXRlU3RhdHVzJywgJ21heFJlZGlyZWN0cycsICdodHRwQWdlbnQnLFxuICAgICdodHRwc0FnZW50JywgJ2NhbmNlbFRva2VuJywgJ3NvY2tldFBhdGgnXG4gIF07XG5cbiAgdXRpbHMuZm9yRWFjaCh2YWx1ZUZyb21Db25maWcyS2V5cywgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihwcm9wKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcyW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMltwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gobWVyZ2VEZWVwUHJvcGVydGllc0tleXMsIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMocHJvcCkge1xuICAgIGlmICh1dGlscy5pc09iamVjdChjb25maWcyW3Byb3BdKSkge1xuICAgICAgY29uZmlnW3Byb3BdID0gdXRpbHMuZGVlcE1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QoY29uZmlnMVtwcm9wXSkpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IHV0aWxzLmRlZXBNZXJnZShjb25maWcxW3Byb3BdKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcxW3Byb3BdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uZmlnW3Byb3BdID0gY29uZmlnMVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHV0aWxzLmZvckVhY2goZGVmYXVsdFRvQ29uZmlnMktleXMsIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIocHJvcCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnMltwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzJbcHJvcF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlnMVtwcm9wXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZ1twcm9wXSA9IGNvbmZpZzFbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICB2YXIgYXhpb3NLZXlzID0gdmFsdWVGcm9tQ29uZmlnMktleXNcbiAgICAuY29uY2F0KG1lcmdlRGVlcFByb3BlcnRpZXNLZXlzKVxuICAgIC5jb25jYXQoZGVmYXVsdFRvQ29uZmlnMktleXMpO1xuXG4gIHZhciBvdGhlcktleXMgPSBPYmplY3RcbiAgICAua2V5cyhjb25maWcyKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gZmlsdGVyQXhpb3NLZXlzKGtleSkge1xuICAgICAgcmV0dXJuIGF4aW9zS2V5cy5pbmRleE9mKGtleSkgPT09IC0xO1xuICAgIH0pO1xuXG4gIHV0aWxzLmZvckVhY2gob3RoZXJLZXlzLCBmdW5jdGlvbiBvdGhlcktleXNEZWZhdWx0VG9Db25maWcyKHByb3ApIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZzJbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcyW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbmZpZzFbcHJvcF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25maWdbcHJvcF0gPSBjb25maWcxW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsImltcG9ydCB7XG4gIGRlZmF1bHQgYXMgUnVtcHVzQ0UsXG4gIERlbGVnYXRpb25PcHRpb25zXG59IGZyb20gXCIuLi8uLi9SdW1wdXNDRVwiO1xuaW1wb3J0IHtcbiAgY2xlYW5RdWVyeVxufSBmcm9tIFwiLi4vLi4vdXRpbGl0eVwiO1xuaW1wb3J0IHtcbiAgQm9va21hcmtTZWFyY2gsXG4gIEJvb2ttYXJrXG59IGZyb20gXCIuLi8uLi8uLi90eXBlcy9ib29rbWFya3NcIjtcblxuLyoqIFNlYXJjaCB0aGUgY3VycmVudCB1c2VyJ3MgYm9va21hcmtzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZEJvb2ttYXJrcyh0aGlzOlJ1bXB1c0NFXG4gICwgcXVlcnk/OiBCb29rbWFya1NlYXJjaFxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcXVlcnlQYXJhbXM6IEJvb2ttYXJrU2VhcmNoID0gey4uLnF1ZXJ5fTtcbiAgcXVlcnlQYXJhbXMuc29ydCA9IHF1ZXJ5UGFyYW1zLnNvcnQgfHwgJ2NyZWF0ZWRBdCc7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9ib29rbWFya3NgLHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5OiBjbGVhblF1ZXJ5KHF1ZXJ5KVxuICB9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICByZXR1cm4gcmVzLmRhdGEgYXMgQm9va21hcmtbXTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYEJvb2ttYXJrIHNlYXJjaCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xufVxuXG4vKiogQm9va21hcmsgYSBnaXZlbiBMZXZlbGhlYWQgbGV2ZWwuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYm9va21hcmtMZXZlbGhlYWRMZXZlbCh0aGlzOlJ1bXB1c0NFXG4gICwgbGV2ZWxJZDogc3RyaW5nXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnB1dChgL2FwaS9sZXZlbGhlYWQvYm9va21hcmtzLyR7bGV2ZWxJZH1gLG9wdGlvbnMpO1xuICBpZihyZXMuc3RhdHVzICE9IDIwNCl7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzLnN0YXR1cz09NDA0ID8gJ0xldmVsIGRvZXMgbm90IGV4aXN0IScgOiAnVW5hYmxlIHRvIGJvb2ttYXJrIGxldmVsJyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKiBSZW1vdmUgdGhlIGJvb2ttYXJrIGZvciBhIGdpdmVuIExldmVsaGVhZCBsZXZlbCAoaWYgdGhhdCBib29rbWFyayBleGlzdHMpLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuYm9va21hcmtMZXZlbGhlYWRMZXZlbCh0aGlzOlJ1bXB1c0NFXG4gICwgbGV2ZWxJZDogc3RyaW5nXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmRlbGV0ZShgL2FwaS9sZXZlbGhlYWQvYm9va21hcmtzLyR7bGV2ZWxJZH1gLG9wdGlvbnMpO1xuICBpZihyZXMuc3RhdHVzICE9IDIwNCl7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB1bmJvb2ttYXJrIGxldmVsJyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgUnVtcHVzQ0UgZnJvbSBcIi4uL3NyYy9saWIvUnVtcHVzQ0VcIjtcclxuXHJcbi8vIEB0cy1pZ25vcmVcclxud2luZG93LlJ1bXB1c0NFID0gUnVtcHVzQ0U7XHJcbiIsImltcG9ydCBheGlvcywge1xuICBBeGlvc0luc3RhbmNlLFxuICBBeGlvc1JlcXVlc3RDb25maWcsXG4gIEF4aW9zUmVzcG9uc2Vcbn0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQge1xuICBjcmVhdGVMZXZlbGhlYWRBUEksXG4gIExldmVsaGVhZEFQSVxufSBmcm9tIFwiLi9hcGlcIjtcblxudHlwZSBIdHRwTWV0aG9kID0gXCJnZXRcInxcInBvc3RcInxcInBhdGNoXCJ8XCJwdXRcInxcImRlbGV0ZVwiO1xudHlwZSBSdW1wdXNTZXJ2ZXIgPSBcImxvY2FsXCJ8XCJkZXZcInxcImJldGFcIjtcbmV4cG9ydCB0eXBlIFZlcnNpb25lZEl0ZW0gPSAncHJpdmFjeSd8J3Rlcm1zJ3wndGVybXMtcmNlJ3wncnVtcHVzJztcblxuZXhwb3J0IGludGVyZmFjZSBEZWxlZ2F0aW9uT3B0aW9ucyB7XG4gIGRlbGVnYXRpb25LZXk/OiBzdHJpbmcsXG4gIGRvTm90VXNlS2V5PzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RPcHRpb25zIGV4dGVuZHMgRGVsZWdhdGlvbk9wdGlvbnMge1xuICBib2R5PzogYW55LFxuICBxdWVyeT86IHtbcGFyYW06c3RyaW5nXTpzdHJpbmd8bnVtYmVyfGJvb2xlYW58dW5kZWZpbmVkfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bXB1c1Jlc3BvbnNlIHtcbiAgc3RhdHVzOiBudW1iZXIsXG4gIGRhdGE6IGFueSxcbiAgbWV0YT86IGFueSxcbiAgbWVzc2FnZT86IHN0cmluZyxcbiAgbG9jYXRpb24/OiBzdHJpbmcsXG4gIG5leHQ/OiBzdHJpbmcsXG4gIGVycm9yczogYW55W10sXG4gIGhlYWRlcnM6IHtbaGVhZGVyOnN0cmluZ106c3RyaW5nfSxcbiAgcmVxdWVzdElkOiBzdHJpbmcsXG4gIHJlbWFpbmluZ1JlcXVlc3RzOiBudW1iZXIsXG59XG5cbi8qKiBDbGFzcyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgUnVtcHVzIENFIEFQSS4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bXB1c0NFIHtcblxuICBwcml2YXRlIF9zZXJ2ZXI6IFJ1bXB1c1NlcnZlcjtcbiAgcHJpdmF0ZSBfcmVxdWVzdDogQXhpb3NJbnN0YW5jZTtcbiAgcHJpdmF0ZSBfbGV2ZWxoZWFkQVBJOiBMZXZlbGhlYWRBUEk7XG4gIHByaXZhdGUgX2Jhc2VVcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZGVmYXVsdERlbGVnYXRpb25LZXk6c3RyaW5nfHVuZGVmaW5lZCA9IHByb2Nlc3MuZW52LlJVTVBVU19ERUxFR0FUSU9OX0tFWSxcbiAgICBzZXJ2ZXI6UnVtcHVzU2VydmVyID0gJ2JldGEnLFxuICAgIGF1dGg/Ont1c2VybmFtZTpzdHJpbmcscGFzc3dvcmQ6c3RyaW5nfVxuICApe1xuICAgIHRoaXMuX3NlcnZlciA9IHNlcnZlcjtcbiAgICB0aGlzLl9iYXNlVXJsID0gc2VydmVyID09ICdsb2NhbCdcbiAgICAgID8gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCdcbiAgICAgIDogYGh0dHBzOi8vJHt0aGlzLl9zZXJ2ZXJ9LmJzY290Y2gubmV0YDtcbiAgICB0aGlzLl9yZXF1ZXN0ID0gYXhpb3MuY3JlYXRlKHtiYXNlVVJMOnRoaXMuX2Jhc2VVcmwsYXV0aH0pO1xuICAgIHRoaXMuX2xldmVsaGVhZEFQSSA9IGNyZWF0ZUxldmVsaGVhZEFQSSh0aGlzKTtcbiAgfVxuXG4gIC8qKiBSdW1wdXMgaGFzIG11bHRpcGxlIHNlcnZlcnMgZm9yIGRpZmZlcmVudCBzdGFnZXMgb2YgZGV2ZWxvcG1lbnQuICovXG4gIGdldCBzZXJ2ZXIoKXtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyO1xuICB9XG5cbiAgLyoqIEdpdmVuIHRoZSBzcGVjaWZpYyBSdW1wdXMgc2VydmVyIHRoaXMgUnVtcHVzQ0UgaW5zdGFuY2UgaXMgdGFsa2luZyB0bywgdGhlIGJhc2UgVVJMIG1ha2luZyB1cCB0aGUgcm9vdCBvZiBhbGwgcmVxdWVzdHMuICovXG4gIGdldCBiYXNlVXJsKCl7IHJldHVybiB0aGlzLl9iYXNlVXJsOyB9XG5cbiAgLyoqIFRoZSBSdW1wdXMgQ0UgTGV2ZWxoZWFkIEFQSSwgYXMgYSBuZXN0ZWQgY29sbGVjdGlvbiBvZiBtZXRob2RzLiAqL1xuICBnZXQgbGV2ZWxoZWFkKCl7IHJldHVybiB0aGlzLl9sZXZlbGhlYWRBUEk7IH1cblxuICAvKiogRmV0Y2ggdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIFJ1bXB1cywgaW5jbHVkaW5nIHNlcnZlciBhbmQgbGVnYWwgZG9jIHZlcnNpb25zLlxuICAgKiBVc2VmdWwgZm9yIHRyaWdnZXJpbmcgZXZlbnRzIG9uIGNoYW5nZSAoZS5nLiB3aGVuIHRoZSBzZXJ2ZXIgdmVyc2lvbiBjaGFuZ2VzLFxuICAgKiB0aGF0IG1pZ2h0IGluZGljYXRlIGJyb2tlbiBvciBuZXcgZnVuY2lvbmFsaXR5OyB3aGVuIGxlZ2FsIGRvY3MgY2hhbmdlLCB0aGUgY2hhbmdlXG4gICAqIGluIHZlcnNpb24gaXMgY29uc2lkZXJlZCB5b3VyIG5vdGljZSkuXG4gICAqICovXG4gIGFzeW5jIHZlcnNpb24oKXtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmdldCgnL2FwaS92ZXJzaW9uJyx7ZG9Ob3RVc2VLZXk6dHJ1ZX0pO1xuICAgIHJldHVybiB7XG4gICAgICBzZXJ2ZXI6IHRoaXMuX3NlcnZlcixcbiAgICAgIHJ1bXB1czogcmVzLmRhdGEgYXMgc3RyaW5nLFxuICAgICAgdGVybXM6IHJlcy5oZWFkZXJzWyd2ZXJzaW9uLXRlcm1zJ10sXG4gICAgICAndGVybXMtcmNlJzogcmVzLmhlYWRlcnNbJ3ZlcnNpb24tdGVybXMtcmNlJ10sXG4gICAgICBwcml2YWN5OiByZXMuaGVhZGVyc1sndmVyc2lvbi1wcml2YWN5J11cbiAgICB9O1xuICB9XG5cbiAgLyoqIEdldCB0aGUgbGlzdCBvZiBwZXJtaXNzaW9ucyBmb3IgYSBnaXZlbiBEZWxlZ2F0aW9uIEtleS5cbiAgICogVXNlZnVsIGZvciB2ZXJpZnlpbmcgdGhhdCB5b3VyIGNhbGxzIHRvIFJ1bXB1cyBDRSB3aWxsIHN1Y2NlZWQuXG4gICAqL1xuICBhc3luYyBkZWxlZ2F0aW9uS2V5UGVybWlzc2lvbnMoZGVsZWdhdGlvbktleT86c3RyaW5nKXtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmdldCgnL2FwaS9kZWxlZ2F0aW9uL2tleXMvQHRoaXMnLHtkZWxlZ2F0aW9uS2V5fSk7XG4gICAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJJZDogcmVzLmRhdGEudXNlcklkLFxuICAgICAgICBwYXNzSWQ6IHJlcy5kYXRhLnBhc3NJZCxcbiAgICAgICAgcGVybWlzc2lvbnM6IHJlcy5kYXRhLnBlcm1pc3Npb25zXG4gICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmKFs0MDAsNDAzXS5pbmNsdWRlcyhyZXMuc3RhdHVzKSl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgb3IgbWlzc2luZyBkZWxlZ2F0aW9uIGtleS5cIik7XG4gICAgfVxuICAgIGVsc2UgaWYocmVzLnN0YXR1cz09NDAxKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGlyZWQgZGVsZWdhdGlvbiBrZXkuXCIpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzZXJ2ZXIgcmVzcG9uc2UuXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBTZW5kIGEgR0VUIHJlcXVlc3QgdG8gUnVtcHVzIENFLiAqL1xuICBnZXQgKHVybDpzdHJpbmcsb3B0aW9ucz86UmVxdWVzdE9wdGlvbnMpe1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsdXJsLG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqIFNlbmQgYSBQT1NUIHJlcXVlc3QgdG8gUnVtcHVzIENFLiAqL1xuICBwb3N0ICh1cmw6c3RyaW5nLG9wdGlvbnM/OlJlcXVlc3RPcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwb3N0Jyx1cmwsb3B0aW9ucyk7XG4gIH1cblxuICAvKiogU2VuZCBhIFBVVCByZXF1ZXN0IHRvIFJ1bXB1cyBDRS4gKi9cbiAgcHV0ICh1cmw6c3RyaW5nLG9wdGlvbnM/OlJlcXVlc3RPcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwdXQnLHVybCxvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBTZW5kIGEgUEFUQ0ggcmVxdWVzdCB0byBSdW1wdXMgQ0UuICovXG4gIHBhdGNoICh1cmw6c3RyaW5nLG9wdGlvbnM/OlJlcXVlc3RPcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwYXRjaCcsdXJsLG9wdGlvbnMpO1xuICB9XG5cbiAgZGVsZXRlICh1cmw6c3RyaW5nLG9wdGlvbnM/OlJlcXVlc3RPcHRpb25zKXtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdkZWxldGUnLHVybCxvcHRpb25zKTtcbiAgfVxuXG4gIC8qKiBTZW5kIGEgcmVxdWVzdCB0byBSdW1wdXMgQ0UuICovXG4gIGFzeW5jIHJlcXVlc3QobWV0aG9kOkh0dHBNZXRob2QsdXJsOnN0cmluZyxvcHRpb25zPzpSZXF1ZXN0T3B0aW9ucyl7XG4gICAgY29uc3QgaGVhZGVyczogeydSdW1wdXMtRGVsZWdhdGlvbi1LZXknPzpzdHJpbmd9ID0ge307XG4gICAgY29uc3Qga2V5ID0gb3B0aW9ucz8uZGVsZWdhdGlvbktleSB8fCB0aGlzLmRlZmF1bHREZWxlZ2F0aW9uS2V5O1xuICAgIGlmKCFvcHRpb25zPy5kb05vdFVzZUtleSAmJiBrZXkpe1xuICAgICAgaGVhZGVyc1snUnVtcHVzLURlbGVnYXRpb24tS2V5J10gPSBrZXk7XG4gICAgfVxuICAgIGNvbnN0IHJlcU9wdHM6IEF4aW9zUmVxdWVzdENvbmZpZyA9IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGhlYWRlcnMsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9O1xuICAgIHJlcU9wdHMuZGF0YSA9IG9wdGlvbnM/LmJvZHk7XG4gICAgcmVxT3B0cy5wYXJhbXMgPSBvcHRpb25zPy5xdWVyeTtcbiAgICBsZXQgcmVzOiBBeGlvc1Jlc3BvbnNlO1xuICAgIHRyeXtcbiAgICAgIHJlcyA9IGF3YWl0IHRoaXMuX3JlcXVlc3QocmVxT3B0cyk7XG4gICAgfVxuICAgIGNhdGNoKGVycil7XG4gICAgICBpZighZXJyLnJlc3BvbnNlKXtcbiAgICAgICAgLy8gU29tZXRoaW5nIHRlcnJpYmxlIGhhcyBoYXBwZW5lZCFcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgLy8gRG9uJ3QgYXNzdW1lIHRoYXQgYW4gJ2Vycm9yJyByZXNwb25zZSB0cnVseSBpcyBhbiBlcnJvcixcbiAgICAgIC8vIHNpbmNlIHRoZSBtZWFuaW5nIG9mIGUuZy4gYSA0MDQgaXMgZW5kcG9pbnQtc3BlY2lmaWMuXG4gICAgICByZXMgPSBlcnIucmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXMuZGF0YSxcbiAgICAgIGhlYWRlcnM6cmVzLmhlYWRlcnMsXG4gICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICByZXF1ZXN0SWQ6IHJlcy5oZWFkZXJzWyd4LXJlcXVlc3QtaWQnXSxcbiAgICAgIHJlbWFpbmluZ1JlcXVlc3RzOiByZXMuaGVhZGVyc1sneC1yYXRlLWxpbWl0LXJlbWFpbmluZyddXG4gICAgfSBhcyBSdW1wdXNSZXNwb25zZTtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgbWVyZ2VDb25maWcgPSByZXF1aXJlKCcuL2NvcmUvbWVyZ2VDb25maWcnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoYXhpb3MuZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBtZXJnZUNvbmZpZyA9IHJlcXVpcmUoJy4vbWVyZ2VDb25maWcnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcbiAgICBjb25maWcudXJsID0gYXJndW1lbnRzWzBdO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgfVxuXG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgaWYgKGNvbmZpZy5tZXRob2QpIHtcbiAgICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMubWV0aG9kKSB7XG4gICAgY29uZmlnLm1ldGhvZCA9IHRoaXMuZGVmYXVsdHMubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLm1ldGhvZCA9ICdnZXQnO1xuICB9XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbkF4aW9zLnByb3RvdHlwZS5nZXRVcmkgPSBmdW5jdGlvbiBnZXRVcmkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIHJldHVybiBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcikucmVwbGFjZSgvXlxcPy8sICcnKTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNcbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuXG4gIGVycm9yLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICBlcnJvci5pc0F4aW9zRXJyb3IgPSB0cnVlO1xuXG4gIGVycm9yLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgY29kZTogdGhpcy5jb2RlXG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4uL2hlbHBlcnMvY29tYmluZVVSTHMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCkge1xuICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG4vLyBIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xudmFyIGlnbm9yZUR1cGxpY2F0ZU9mID0gW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl07XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICBwYXJzZWRba2V5XSA9IChwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldIDogW10pLmNvbmNhdChbdmFsXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgdmFyIG9yaWdpblVSTDtcblxuICAgICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICAgIH1cblxuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gICAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAgICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoZXhwaXJlcykpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZG9tYWluKSkge1xuICAgICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VjdXJlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcbiAgICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgICB9O1xuICAgIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiaW1wb3J0IFJ1bXB1c0NFIGZyb20gXCIuLi9SdW1wdXNDRVwiO1xuaW1wb3J0IHtcbiAgZ2V0TGV2ZWxoZWFkQWxpYXNlc1xufSBmcm9tIFwiLi9sZXZlbGhlYWQvYWxpYXNlc1wiO1xuaW1wb3J0IHtcbiAgZ2V0TGV2ZWxoZWFkTGV2ZWxzLFxuICBnZXRMZXZlbGhlYWRMZXZlbFRhZ3MsXG4gIGdldExldmVsaGVhZExldmVsTGlrZXMsXG4gIGdldExldmVsaGVhZExldmVsRmF2b3JpdGVzXG59IGZyb20gXCIuL2xldmVsaGVhZC9sZXZlbHNcIjtcbmltcG9ydCB7XG4gIGdldExldmVsaGVhZFBsYXllcixcbiAgZ2V0TGV2ZWxoZWFkUGxheWVycyxcbiAgZ2V0TGV2ZWxoZWFkTGlrZWRMZXZlbHMsXG4gIGdldExldmVsaGVhZEZhdm9yaXRlZExldmVscyxcbiAgZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93ZXJzLFxuICBnZXRMZXZlbGhlYWRQbGF5ZXJGb2xsb3dpbmcsXG4gIGZvbGxvd0xldmVsaGVhZFBsYXllcixcbiAgdW5mb2xsb3dMZXZlbGhlYWRQbGF5ZXJcbn0gZnJvbSBcIi4vbGV2ZWxoZWFkL3BsYXllcnNcIjtcbmltcG9ydCB7XG4gIGdldExldmVsaGVhZEJvb2ttYXJrcyxcbiAgYm9va21hcmtMZXZlbGhlYWRMZXZlbCxcbiAgdW5ib29rbWFya0xldmVsaGVhZExldmVsXG59IGZyb20gXCIuL2xldmVsaGVhZC9ib29rbWFya3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxldmVsaGVhZEFQSShjbGllbnQ6UnVtcHVzQ0Upe1xuICBjb25zdCBhcGkgPSB7XG4gICAgLyoqIEFsaWFzZXMgKi9cbiAgICBhbGlhc2VzOntcbiAgICAgIHNlYXJjaDogZ2V0TGV2ZWxoZWFkQWxpYXNlcy5iaW5kKGNsaWVudClcbiAgICB9LFxuICAgIC8qKiBNYW5hZ2UgTGV2ZWwgQm9va21hcmtzICovXG4gICAgYm9va21hcmtzOntcbiAgICAgIC8qKiBMaXN0IGFuZCBmaWx0ZXIgeW91ciBib29rbWFya3MuICovXG4gICAgICBzZWFyY2g6IGdldExldmVsaGVhZEJvb2ttYXJrcy5iaW5kKGNsaWVudCksXG4gICAgICAvKiogQWRkIGEgbGV2ZWwgdG8geW91ciBib29rbWFya3MuICovXG4gICAgICBhZGQ6IGJvb2ttYXJrTGV2ZWxoZWFkTGV2ZWwuYmluZChjbGllbnQpLFxuICAgICAgLyoqIFJlbW92ZSBhIGxldmVsIGZyb20geW91ciBib29rbWFya3MuICovXG4gICAgICByZW1vdmU6IHVuYm9va21hcmtMZXZlbGhlYWRMZXZlbC5iaW5kKGNsaWVudClcbiAgICB9LFxuICAgIC8qKiBJbmZvcm1hdGlvbiBhYm91dCBMZXZlbHMuICovXG4gICAgbGV2ZWxzOntcbiAgICAgIC8qKiBTZWFyY2ggTGV2ZWxoZWFkIExldmVscy4gKi9cbiAgICAgIHNlYXJjaDogZ2V0TGV2ZWxoZWFkTGV2ZWxzLmJpbmQoY2xpZW50KSxcbiAgICAgIC8qKiBHZXQgc3RhdGlzdGljcyBhbmQgaW5mb3JtYXRpb24gYWJvdXQgTGV2ZWwgVGFncy4gKi9cbiAgICAgIGdldFRhZ3M6IGdldExldmVsaGVhZExldmVsVGFncy5iaW5kKGNsaWVudCksXG4gICAgICAvKiogTGlzdCB0aGUgcGxheWVycyB3aG8gbGlrZWQgYSBMZXZlbC4gKi9cbiAgICAgIGdldExpa2VzOiBnZXRMZXZlbGhlYWRMZXZlbExpa2VzLmJpbmQoY2xpZW50KSxcbiAgICAgIC8qKiBMaXN0IHRoZSBwbGF5ZXJzIHdobyBmYXZvcml0ZWQgYSBMZXZlbC4gKi9cbiAgICAgIGdldEZhdm9yaXRlczogZ2V0TGV2ZWxoZWFkTGV2ZWxGYXZvcml0ZXMuYmluZChjbGllbnQpLFxuICAgIH0sXG4gICAgLyoqIEluZm9ybWF0aW9uIGFib3V0IHBsYXllcnMsIHBsdXMgZm9sbG93aW5nIG1hbmFnZW1lbnQuICovXG4gICAgcGxheWVyczp7XG4gICAgICAvKiogU2VhcmNoIExldmVsaGVhZCBQbGF5ZXIgcHJvZmlsZXMuICovXG4gICAgICBzZWFyY2g6IGdldExldmVsaGVhZFBsYXllcnMuYmluZChjbGllbnQpLFxuICAgICAgLyoqIEZpbmQgYSBMZXZlbGhlYWQgUGxheWVyIHByb2ZpbGUuICovXG4gICAgICBnZXRQbGF5ZXI6IGdldExldmVsaGVhZFBsYXllci5iaW5kKGNsaWVudCkgYXMgdHlwZW9mIGdldExldmVsaGVhZFBsYXllcixcbiAgICAgIC8qKiBMaXN0IHRoZSBsZXZlbHMgbGlrZWQgYnkgYSBwbGF5ZXIuICovXG4gICAgICBnZXRMaWtlZExldmVsczogZ2V0TGV2ZWxoZWFkTGlrZWRMZXZlbHMuYmluZChjbGllbnQpLFxuICAgICAgLyoqIExpc3QgdGhlIGxldmVscyBmYXZvcml0ZWQgYnkgYSBwbGF5ZXIuICovXG4gICAgICBnZXRGYXZvcml0ZWRMZXZlbHM6IGdldExldmVsaGVhZEZhdm9yaXRlZExldmVscy5iaW5kKGNsaWVudCksXG4gICAgICAvKiogTGlzdCB0aGUgcGxheWVycyB3aG8gZm9sbG93IGEgZ2l2ZW4gcGxheWVyLiAqL1xuICAgICAgZ2V0Rm9sbG93ZXJzOiBnZXRMZXZlbGhlYWRQbGF5ZXJGb2xsb3dlcnMuYmluZChjbGllbnQpLFxuICAgICAgLyoqIExpc3QgdGhlIHBsYXllcnMgZm9sbG93ZWQgYnkgYSBnaXZlbiBwbGF5ZXIuICovXG4gICAgICBnZXRGb2xsb3dpbmc6IGdldExldmVsaGVhZFBsYXllckZvbGxvd2luZy5iaW5kKGNsaWVudCksXG4gICAgICAvKiogRm9sbG93IGEgcGxheWVyLiAqL1xuICAgICAgZm9sbG93OiBmb2xsb3dMZXZlbGhlYWRQbGF5ZXIuYmluZChjbGllbnQpLFxuICAgICAgLyoqIFVuZm9sbG93IGEgcGxheWVyLiAqL1xuICAgICAgdW5mb2xsb3c6IHVuZm9sbG93TGV2ZWxoZWFkUGxheWVyLmJpbmQoY2xpZW50KVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGFwaTtcbn1cblxuZXhwb3J0IHR5cGUgTGV2ZWxoZWFkQVBJID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlTGV2ZWxoZWFkQVBJPjtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBSdW1wdXNDRSwgRGVsZWdhdGlvbk9wdGlvbnN9IGZyb20gXCIuLi8uLi9SdW1wdXNDRVwiO1xuaW1wb3J0IHtcbiAgY2xlYW5RdWVyeSxcbiAgY3N2LFxuICBhdHRhY2hBdmF0YXJVcmxUb0FycmF5SXRlbXNcbn0gZnJvbSBcIi4uLy4uL3V0aWxpdHlcIjtcbmltcG9ydCB7XG4gIEFsaWFzU2VhcmNoLFxuICBBbGlhc1xufSBmcm9tIFwiLi4vLi4vLi4vdHlwZXMvYWxpYXNlc1wiO1xuXG4vKiogU2VhcmNoIExldmVsaGVhZCBhbGlhc2VzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZEFsaWFzZXModGhpczpSdW1wdXNDRVxuICAsIHVzZXJJZHM6IHN0cmluZ3xzdHJpbmdbXVxuICAsIHF1ZXJ5PzogQWxpYXNTZWFyY2hcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9hbGlhc2VzYCx7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBxdWVyeTogY2xlYW5RdWVyeSh7Li4ucXVlcnksdXNlcklkczpjc3YodXNlcklkcyl9KVxuICB9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICBjb25zdCBhbGlhc2VzID0gcmVzLmRhdGEgYXMgQWxpYXNbXTtcbiAgICBhdHRhY2hBdmF0YXJVcmxUb0FycmF5SXRlbXMoYWxpYXNlcyk7XG4gICAgcmV0dXJuIGFsaWFzZXM7XG4gIH1cbiAgZWxzZXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFsaWFzIHNlYXJjaCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBkZWZhdWx0IGFzIFJ1bXB1c0NFLFxuICBEZWxlZ2F0aW9uT3B0aW9uc1xufSBmcm9tIFwiLi4vLi4vUnVtcHVzQ0VcIjtcbmltcG9ydCB7XG4gIGNsZWFuUXVlcnksXG4gIGF0dGFjaEF2YXRhclVybFRvQXJyYXlJdGVtc1xufSBmcm9tIFwiLi4vLi4vdXRpbGl0eVwiO1xuaW1wb3J0IHtcbiAgTGV2ZWxoZWFkTGV2ZWwsXG4gIExldmVsaGVhZExldmVsVGFnLFxuICBMZXZlbGhlYWRMZXZlbFNlYXJjaCxcbiAgTGV2ZWxoZWFkTGV2ZWxEb3dubG9hZCxcbiAgTGV2ZWxoZWFkTGV2ZWxMaWtlc1NlYXJjaCxcbn0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL2xldmVsc1wiO1xuaW1wb3J0IHtcbiAgTGlzdGVkVXNlcklkXG59IGZyb20gXCIuLi8uLi8uLi90eXBlcy9wbGF5ZXJzXCI7XG5pbXBvcnQge1xuICBib29rbWFya0xldmVsaGVhZExldmVsLFxuICB1bmJvb2ttYXJrTGV2ZWxoZWFkTGV2ZWxcbn0gZnJvbSBcIi4vYm9va21hcmtzXCI7XG5pbXBvcnQge1xuICBhZGROZXh0UGFnZVNlYXJjaEZ1bmN0aW9uXG59IGZyb20gXCIuLi9wYWdpbmdcIjtcbmltcG9ydCB7XG4gIFJlc3VsdHNQYWdlLFxuICBibGFua1Jlc3VsdHNQYWdlXG59IGZyb20gXCIuLi9wYWdpbmdcIjtcblxuLyoqIEZldGNoIHN0YXRzIGFuZCBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGNyZWF0b3ItY2hvc2VuIGxldmVsIHRhZ3MuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkTGV2ZWxUYWdzKHRoaXM6UnVtcHVzQ0VcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9sZXZlbC10YWdzL2NvdW50c2Asey4uLm9wdGlvbnN9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICBjb25zdCB0YWdzID0gcmVzLmRhdGEgYXMgTGV2ZWxoZWFkTGV2ZWxUYWdbXTtcbiAgICByZXR1cm4gdGFncztcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgTGV2ZWwgdGFncyByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuXG5cbi8qKiBHZXQgdGhlIGxpc3Qgb2YgdXNlcnMgd2hvIGxpa2VkIG9yIGZhdm9yaXRlZCBhIGdpdmVuIExldmVsLiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkTGV2ZWxVc2VyTGlzdCh0aGlzOlJ1bXB1c0NFXG4gICwgbGlzdFR5cGU6ICdsaWtlcyd8J2Zhdm9yaXRlcydcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IExldmVsaGVhZExldmVsTGlrZXNTZWFyY2hcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9sZXZlbHMvJHtsZXZlbElkfS8ke2xpc3RUeXBlfWAse1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6Y2xlYW5RdWVyeShxdWVyeSlcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgY29uc3QgdXNlcnMgPSByZXMuZGF0YSBhcyBSZXN1bHRzUGFnZTxMaXN0ZWRVc2VySWQ+O1xuICAgIGNvbnN0IGxhc3RJZCA9IHVzZXJzLmxlbmd0aCAmJiAoIXF1ZXJ5Py5saW1pdCB8fCBxdWVyeS5saW1pdCA9PSB1c2Vycy5sZW5ndGgpXG4gICAgICA/IHVzZXJzW3VzZXJzLmxlbmd0aC0xXS5faWRcbiAgICAgIDogZmFsc2UgO1xuICAgIHVzZXJzLm5leHRQYWdlID0gKCk9PntcbiAgICAgIGlmKGxhc3RJZCl7XG4gICAgICAgIGNvbnN0IG5ld1F1ZXJ5ID0gey4uLnF1ZXJ5LGJlZm9yZUlkOmxhc3RJZH07XG4gICAgICAgIHJldHVybiBnZXRMZXZlbGhlYWRMZXZlbFVzZXJMaXN0LmJpbmQodGhpcykobGlzdFR5cGUsbGV2ZWxJZCxuZXdRdWVyeSxvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBibGFua1Jlc3VsdHNQYWdlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gdXNlcnM7XG4gIH1cbiAgZWxzZXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYExldmVsICR7bGlzdFR5cGV9IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuLyoqIEdldCB0aGUgbGlzdCBvZiB1c2VySWRzIGZvciB1c2VycyB3aG8gbGlrZWQgdGhpcyBsZXZlbC4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMZXZlbGhlYWRMZXZlbExpa2VzKHRoaXM6UnVtcHVzQ0VcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IExldmVsaGVhZExldmVsTGlrZXNTZWFyY2hcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIHJldHVybiBnZXRMZXZlbGhlYWRMZXZlbFVzZXJMaXN0LmNhbGwodGhpcywnbGlrZXMnLGxldmVsSWQscXVlcnksb3B0aW9ucyk7XG59XG5cbi8qKiBHZXQgdGhlIGxpc3Qgb2YgdXNlcklkcyBmb3IgdXNlcnMgd2hvIGZhdm9yaXRlZCB0aGlzIGxldmVsLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZExldmVsRmF2b3JpdGVzKHRoaXM6UnVtcHVzQ0VcbiAgLCBsZXZlbElkOiBzdHJpbmdcbiAgLCBxdWVyeT86IHtsaW1pdD86bnVtYmVyLHVzZXJJZHM/OnN0cmluZ3xzdHJpbmdbXSxiZWZvcmVJZD86c3RyaW5nLGluY2x1ZGVBbGlhc2VzPzpib29sZWFufVxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgcmV0dXJuIGdldExldmVsaGVhZExldmVsVXNlckxpc3QuY2FsbCh0aGlzLCdmYXZvcml0ZXMnLGxldmVsSWQscXVlcnksb3B0aW9ucyk7XG59XG5cbi8qKiBEZWNvcmF0ZSBMZXZlbCBvYmplY3Qgd2l0aHMgYWRkaXRpb25hbCBjb252ZW5pZW5jZSBmdW5jdGlvbnMuICovXG5mdW5jdGlvbiBhZGRMZXZlbEZ1bmN0aW9uYWxpdHkoY2xpZW50OlJ1bXB1c0NFLGxldmVsOkxldmVsaGVhZExldmVsRG93bmxvYWQpe1xuICBjb25zdCBmYW5jeUxldmVsID0gbGV2ZWwgYXMgTGV2ZWxoZWFkTGV2ZWwgO1xuXG4gIGZhbmN5TGV2ZWwuZ2V0TGlrZXMgPSAoXG4gICAgcXVlcnk/OiBMZXZlbGhlYWRMZXZlbExpa2VzU2VhcmNoLFxuICAgIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuICApPT5nZXRMZXZlbGhlYWRMZXZlbExpa2VzLmNhbGwoY2xpZW50LGxldmVsLmxldmVsSWQscXVlcnksb3B0aW9ucyk7XG5cbiAgZmFuY3lMZXZlbC5nZXRGYXZvcml0ZXMgPSAoXG4gICAgcXVlcnk/OiBMZXZlbGhlYWRMZXZlbExpa2VzU2VhcmNoLFxuICAgIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuICApPT5nZXRMZXZlbGhlYWRMZXZlbEZhdm9yaXRlcy5jYWxsKGNsaWVudCxsZXZlbC5sZXZlbElkLHF1ZXJ5LG9wdGlvbnMpO1xuXG4gIGZhbmN5TGV2ZWwuYm9va21hcmsgPSAoXG4gICAgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4gICk9PmJvb2ttYXJrTGV2ZWxoZWFkTGV2ZWwuY2FsbChjbGllbnQsbGV2ZWwubGV2ZWxJZCxvcHRpb25zKTtcblxuICBmYW5jeUxldmVsLnVuYm9va21hcmsgPSAoXG4gICAgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4gICk9PnVuYm9va21hcmtMZXZlbGhlYWRMZXZlbC5jYWxsKGNsaWVudCxsZXZlbC5sZXZlbElkLG9wdGlvbnMpO1xuXG4gIHJldHVybiBmYW5jeUxldmVsO1xufVxuXG4vKiogU2VhcmNoIGZvciBMZXZlbGhlYWQgbGV2ZWxzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZExldmVscyh0aGlzOlJ1bXB1c0NFXG4gICwgcXVlcnk/OiBMZXZlbGhlYWRMZXZlbFNlYXJjaFxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcXVlcnlQYXJhbXM6IExldmVsaGVhZExldmVsU2VhcmNoID0gey4uLnF1ZXJ5fTtcbiAgcXVlcnlQYXJhbXMuc29ydCA9IHF1ZXJ5UGFyYW1zLnNvcnQgfHwgXCJjcmVhdGVkQXRcIjtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoYC9hcGkvbGV2ZWxoZWFkL2xldmVsc2Ase1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6Y2xlYW5RdWVyeShxdWVyeVBhcmFtcylcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgY29uc3QgbGV2ZWxzID0gKHJlcy5kYXRhIGFzIExldmVsaGVhZExldmVsRG93bmxvYWRbXSlcbiAgICAgIC5tYXAobGV2ZWw9PmFkZExldmVsRnVuY3Rpb25hbGl0eSh0aGlzLGxldmVsKSkgYXMgUmVzdWx0c1BhZ2U8TGV2ZWxoZWFkTGV2ZWw+O1xuICAgIGF0dGFjaEF2YXRhclVybFRvQXJyYXlJdGVtcyhsZXZlbHMpO1xuICAgIGFkZE5leHRQYWdlU2VhcmNoRnVuY3Rpb24odGhpcyxsZXZlbHMscmVzLm5leHQscXVlcnlQYXJhbXMsb3B0aW9ucyxnZXRMZXZlbGhlYWRMZXZlbHMpO1xuICAgIHJldHVybiBsZXZlbHM7XG4gIH1cbiAgZWxzZXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYExldmVsIHNlYXJjaCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgUnVtcHVzQ0UsIERlbGVnYXRpb25PcHRpb25zfSBmcm9tIFwiLi4vLi4vUnVtcHVzQ0VcIjtcbmltcG9ydCB7Y2xlYW5RdWVyeX0gZnJvbSBcIi4uLy4uL3V0aWxpdHlcIjtcbmltcG9ydCB7XG4gIExpc3RlZFVzZXJJZCxcbiAgTGV2ZWxoZWFkUGxheWVyLFxuICBMZXZlbGhlYWRQbGF5ZXJTZWFyY2gsXG4gIExldmVsaGVhZFBsYXllckRvd25sb2FkLFxuICBMZXZlbGhlYWRQbGF5ZXJMaWtlc1NlYXJjaCxcbiAgTGV2ZWxoZWFkUGxheWVyRm9sbG93c1NlYXJjaCxcbn0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL3BsYXllcnNcIjtcbmltcG9ydCB7XG4gIExpc3RlZExldmVsSWRcbn0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL2xldmVsc1wiO1xuaW1wb3J0IHtcbiAgUmVzdWx0c1BhZ2UsXG4gIGJsYW5rUmVzdWx0c1BhZ2UsXG4gIGFkZE5leHRQYWdlU2VhcmNoRnVuY3Rpb25cbn0gZnJvbSBcIi4uL3BhZ2luZ1wiO1xuXG4vKiogRmV0Y2ggdGhlIGxldmVscyBsaWtlZCBvciBmYXZvcml0ZWQgYnkgYSBnaXZlbiB1c2VyLiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkUGxheWVyTGV2ZWxMaXN0KHRoaXM6UnVtcHVzQ0VcbiAgLCBsaXN0VHlwZTogJ2xpa2VzJ3wnZmF2b3JpdGVzJ1xuICAsIHVzZXJJZDogc3RyaW5nXG4gICwgcXVlcnk/OiBMZXZlbGhlYWRQbGF5ZXJMaWtlc1NlYXJjaFxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoYC9hcGkvbGV2ZWxoZWFkL3BsYXllcnMvJHt1c2VySWR9LyR7bGlzdFR5cGV9YCx7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBxdWVyeTpjbGVhblF1ZXJ5KHF1ZXJ5KVxuICB9KTtcbiAgaWYocmVzLnN0YXR1cz09MjAwKXtcbiAgICBjb25zdCBsZXZlbHMgPSByZXMuZGF0YSBhcyBSZXN1bHRzUGFnZTxMaXN0ZWRMZXZlbElkPjtcbiAgICBjb25zdCBsYXN0SWQgPSBsZXZlbHMubGVuZ3RoICYmICghcXVlcnk/LmxpbWl0IHx8IHF1ZXJ5LmxpbWl0ID09IGxldmVscy5sZW5ndGgpXG4gICAgICA/IGxldmVsc1tsZXZlbHMubGVuZ3RoLTFdLl9pZFxuICAgICAgOiBmYWxzZSA7XG4gICAgbGV2ZWxzLm5leHRQYWdlID0gKCk9PntcbiAgICAgIGlmKGxhc3RJZCl7XG4gICAgICAgIGNvbnN0IG5ld1F1ZXJ5ID0gey4uLnF1ZXJ5LGJlZm9yZUlkOmxhc3RJZH07XG4gICAgICAgIHJldHVybiBnZXRMZXZlbGhlYWRQbGF5ZXJMZXZlbExpc3QuYmluZCh0aGlzKShsaXN0VHlwZSx1c2VySWQsbmV3UXVlcnksb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmxhbmtSZXN1bHRzUGFnZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIGxldmVscztcbiAgfVxuICBlbHNle1xuICAgIHRocm93IG5ldyBFcnJvcihgTGV2ZWwgJHtsaXN0VHlwZX0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c31gKTtcbiAgfVxufVxuXG4vKiogR2V0IHRoZSBsaXN0IG9mIGxldmVscyBsaWtlZCBieSBhIHVzZXIuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkTGlrZWRMZXZlbHModGhpczpSdW1wdXNDRVxuICAsIHVzZXJJZCA9IFwiQG1lXCJcbiAgLCBxdWVyeT86IExldmVsaGVhZFBsYXllckxpa2VzU2VhcmNoXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICByZXR1cm4gZ2V0TGV2ZWxoZWFkUGxheWVyTGV2ZWxMaXN0LmNhbGwodGhpcywnbGlrZXMnLHVzZXJJZCxxdWVyeSxvcHRpb25zKTtcbn1cblxuLyoqIEdldCB0aGUgbGlzdCBvZiBsZXZlbHMgZmF2b3JpdGVkIGJ5IGEgdXNlci4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMZXZlbGhlYWRGYXZvcml0ZWRMZXZlbHModGhpczpSdW1wdXNDRVxuICAsIHVzZXJJZCA9IFwiQG1lXCJcbiAgLCBxdWVyeT86IExldmVsaGVhZFBsYXllckxpa2VzU2VhcmNoXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICByZXR1cm4gZ2V0TGV2ZWxoZWFkUGxheWVyTGV2ZWxMaXN0LmNhbGwodGhpcywnZmF2b3JpdGVzJyx1c2VySWQscXVlcnksb3B0aW9ucyk7XG59XG5cblxuLyoqIEdldCB0aGUgbGlzdCBvZiBmb2xsb3dlcnMgZm9yIGEgZ2l2ZW4gdXNlciwgb3IgdGhvc2UgdGhlIHVzZXIgaXMgZm9sbG93aW5nLiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93cyh0aGlzOlJ1bXB1c0NFXG4gICwgbGlzdFR5cGU6ICdmb2xsb3dpbmcnfCdmb2xsb3dlcnMnXG4gICwgdXNlcklkOiBzdHJpbmdcbiAgLCBxdWVyeT86IExldmVsaGVhZFBsYXllckZvbGxvd3NTZWFyY2hcbiAgLCBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbil7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZ2V0KGAvYXBpL2xldmVsaGVhZC9wbGF5ZXJzLyR7dXNlcklkfS8ke2xpc3RUeXBlfWAse1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcXVlcnk6Y2xlYW5RdWVyeShxdWVyeSlcbiAgfSk7XG4gIGlmKHJlcy5zdGF0dXM9PTIwMCl7XG4gICAgY29uc3QgcGxheWVycyA9IHJlcy5kYXRhIGFzIFJlc3VsdHNQYWdlPExpc3RlZFVzZXJJZD47XG4gICAgY29uc3QgbGFzdElkID0gcGxheWVycy5sZW5ndGggJiYgKCFxdWVyeT8ubGltaXQgfHwgcXVlcnkubGltaXQgPT0gcGxheWVycy5sZW5ndGgpXG4gICAgICA/IHBsYXllcnNbcGxheWVycy5sZW5ndGgtMV0uX2lkXG4gICAgICA6IGZhbHNlIDtcbiAgICBwbGF5ZXJzLm5leHRQYWdlID0gKCk9PntcbiAgICAgIGlmKGxhc3RJZCl7XG4gICAgICAgIGNvbnN0IG5ld1F1ZXJ5ID0gey4uLnF1ZXJ5LGJlZm9yZUlkOmxhc3RJZH07XG4gICAgICAgIHJldHVybiBnZXRMZXZlbGhlYWRQbGF5ZXJGb2xsb3dzLmJpbmQodGhpcykobGlzdFR5cGUsdXNlcklkLG5ld1F1ZXJ5LG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJsYW5rUmVzdWx0c1BhZ2UoKTtcbiAgICB9O1xuICAgIHJldHVybiBwbGF5ZXJzO1xuICB9XG4gIGVsc2V7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBQbGF5ZXIgJHtsaXN0VHlwZX0gc2VhcmNoIGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuLyoqIEdldCB0aGUgbGlzdCBvZiB1c2VycyBmb2xsb3dpbmcgYSBnaXZlbiB1c2VyLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZFBsYXllckZvbGxvd2Vycyh0aGlzOlJ1bXB1c0NFXG4gICwgdXNlcklkID0gXCJAbWVcIlxuICAsIHF1ZXJ5PzogTGV2ZWxoZWFkUGxheWVyRm9sbG93c1NlYXJjaFxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgcmV0dXJuIGdldExldmVsaGVhZFBsYXllckZvbGxvd3MuY2FsbCh0aGlzLCdmb2xsb3dlcnMnLHVzZXJJZCxxdWVyeSxvcHRpb25zKTtcbn1cblxuLyoqIEdldCB0aGUgbGlzdCBvZiB1c2VycyBmb2xsb3dlZCBieSBhIGdpdmVuIHVzZXIuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93aW5nKHRoaXM6UnVtcHVzQ0VcbiAgLCB1c2VySWQgPSBcIkBtZVwiXG4gICwgcXVlcnk/OiBMZXZlbGhlYWRQbGF5ZXJGb2xsb3dzU2VhcmNoXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICByZXR1cm4gZ2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93cy5jYWxsKHRoaXMsJ2ZvbGxvd2luZycsdXNlcklkLHF1ZXJ5LG9wdGlvbnMpO1xufVxuXG4vKiogQWRkIGEgdXNlciB0byB0aGUgY3VycmVudCB1c2VyJ3MgZm9sbG93aW5nIGxpc3QuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9sbG93TGV2ZWxoZWFkUGxheWVyKHRoaXM6UnVtcHVzQ0VcbiAgLCB1c2VySWQ6IHN0cmluZ1xuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5wdXQoYC9hcGkvbGV2ZWxoZWFkL2ZvbGxvd2luZy8ke3VzZXJJZH1gLG9wdGlvbnMpO1xuICBpZihyZXMuc3RhdHVzICE9MjA0KXtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzLnN0YXR1cz09NDA0ID8gJ1BsYXllciBkb2VzIG5vdCBleGlzdCEnIDogJ1VuYWJsZSB0byBmb2xsb3cgcGxheWVyJyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKiBSZW1vdmUgYSB1c2VyIGZyb20gdGhlIGN1cnJlbnQgdXNlcidzIGZvbGxvd2luZyBsaXN0LiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVuZm9sbG93TGV2ZWxoZWFkUGxheWVyKHRoaXM6UnVtcHVzQ0VcbiAgLCB1c2VySWQ6IHN0cmluZ1xuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5kZWxldGUoYC9hcGkvbGV2ZWxoZWFkL2ZvbGxvd2luZy8ke3VzZXJJZH1gLG9wdGlvbnMpO1xuICBpZihyZXMuc3RhdHVzICE9MjA0KXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB1bmZvbGxvdyBwbGF5ZXInKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqIEFkZCBjb252ZW5pZW5jZSBmdW5jdGlvbnMgdG8gUGxheWVyIG9iamVjdHMuICovXG5mdW5jdGlvbiBhZGRQbGF5ZXJGdW5jdGlvbmFsaXR5KGNsaWVudDpSdW1wdXNDRVxuICAsIHBsYXllcjogTGV2ZWxoZWFkUGxheWVyRG93bmxvYWRcbil7XG4gIGNvbnN0IGZhbmN5UGxheWVyID0gcGxheWVyIGFzIExldmVsaGVhZFBsYXllciA7XG5cbiAgZmFuY3lQbGF5ZXIuZ2V0TGlrZWRMZXZlbHMgPSAoXG4gICAgcXVlcnk/OiBMZXZlbGhlYWRQbGF5ZXJMaWtlc1NlYXJjaCxcbiAgICBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbiAgKT0+Z2V0TGV2ZWxoZWFkTGlrZWRMZXZlbHMuY2FsbChjbGllbnQscGxheWVyLnVzZXJJZCxxdWVyeSxvcHRpb25zKTtcblxuICBmYW5jeVBsYXllci5nZXRGYXZvcml0ZWRMZXZlbHMgPSAoXG4gICAgcXVlcnk/OiBMZXZlbGhlYWRQbGF5ZXJMaWtlc1NlYXJjaCxcbiAgICBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbiAgKT0+Z2V0TGV2ZWxoZWFkRmF2b3JpdGVkTGV2ZWxzLmNhbGwoY2xpZW50LHBsYXllci51c2VySWQscXVlcnksb3B0aW9ucyk7XG5cbiAgZmFuY3lQbGF5ZXIuZ2V0Rm9sbG93ZXJzID0gKFxuICAgIHF1ZXJ5PzogTGV2ZWxoZWFkUGxheWVyRm9sbG93c1NlYXJjaCxcbiAgICBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbiAgKT0+Z2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93ZXJzLmNhbGwoY2xpZW50LHBsYXllci51c2VySWQscXVlcnksb3B0aW9ucyk7XG5cbiAgZmFuY3lQbGF5ZXIuZ2V0Rm9sbG93aW5nID0gKFxuICAgIHF1ZXJ5PzogTGV2ZWxoZWFkUGxheWVyRm9sbG93c1NlYXJjaCxcbiAgICBvcHRpb25zPzogRGVsZWdhdGlvbk9wdGlvbnNcbiAgKT0+Z2V0TGV2ZWxoZWFkUGxheWVyRm9sbG93aW5nLmNhbGwoY2xpZW50LHBsYXllci51c2VySWQscXVlcnksb3B0aW9ucyk7XG5cbiAgZmFuY3lQbGF5ZXIuZm9sbG93ID0gKFxuICAgIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuICApID0+IGZvbGxvd0xldmVsaGVhZFBsYXllci5jYWxsKGNsaWVudCxwbGF5ZXIudXNlcklkLG9wdGlvbnMpO1xuXG4gIGZhbmN5UGxheWVyLnVuZm9sbG93ID0gKFxuICAgIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuICApID0+IHVuZm9sbG93TGV2ZWxoZWFkUGxheWVyLmNhbGwoY2xpZW50LHBsYXllci51c2VySWQsb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGZhbmN5UGxheWVyO1xufVxuXG4vKiogU2VhcmNoIGZvciBMZXZlbGhlYWQgcGxheWVyIHByb2ZpbGVzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZFBsYXllcnModGhpczpSdW1wdXNDRVxuICAsIHF1ZXJ5PzogTGV2ZWxoZWFkUGxheWVyU2VhcmNoXG4gICwgb3B0aW9ucz86IERlbGVnYXRpb25PcHRpb25zXG4pe1xuICBjb25zdCBxdWVyeVBhcmFtczogTGV2ZWxoZWFkUGxheWVyU2VhcmNoID0gey4uLnF1ZXJ5fTtcbiAgcXVlcnlQYXJhbXMuc29ydCA9IHF1ZXJ5UGFyYW1zLnNvcnQgfHwgXCJjcmVhdGVkQXRcIjtcbiAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5nZXQoYC9hcGkvbGV2ZWxoZWFkL3BsYXllcnNgLHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5OmNsZWFuUXVlcnkocXVlcnlQYXJhbXMpXG4gIH0pO1xuICBpZihyZXMuc3RhdHVzPT0yMDApe1xuICAgIGNvbnN0IHBsYXllcnMgPSAocmVzLmRhdGEgYXMgTGV2ZWxoZWFkUGxheWVyRG93bmxvYWRbXSlcbiAgICAgIC5tYXAocGxheWVyPT5hZGRQbGF5ZXJGdW5jdGlvbmFsaXR5KHRoaXMscGxheWVyKSkgYXMgUmVzdWx0c1BhZ2U8TGV2ZWxoZWFkUGxheWVyPjtcbiAgICBhZGROZXh0UGFnZVNlYXJjaEZ1bmN0aW9uKHRoaXMscGxheWVycyxyZXMubmV4dCxxdWVyeVBhcmFtcyxvcHRpb25zLGdldExldmVsaGVhZFBsYXllcnMpO1xuICAgIHJldHVybiBwbGF5ZXJzO1xuICB9XG4gIGVsc2V7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBQbGF5ZXIgc2VhcmNoIGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cbn1cblxuLyoqIEdldCBhIHNwZWNpZmljIExldmVsaGVhZCBwbGF5ZXIncyBwcm9maWxlIGluZm9ybWF0aW9uLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExldmVsaGVhZFBsYXllcih0aGlzOlJ1bXB1c0NFXG4gICwgdXNlcklkID0gXCJAbWVcIlxuICAsIG9wdGlvbnM/OiBEZWxlZ2F0aW9uT3B0aW9uc1xuKXtcbiAgY29uc3QgcGxheWVycyA9IGF3YWl0IGdldExldmVsaGVhZFBsYXllcnMuY2FsbCh0aGlzLHt1c2VySWRzOnVzZXJJZCxsaW1pdDoxfSxvcHRpb25zKTtcbiAgaWYoIXBsYXllcnMubGVuZ3RoKXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGF0IHBsYXllciBkb2VzIG5vdCBleGlzdFwiKTtcbiAgfVxuICByZXR1cm4gcGxheWVyc1swXTtcbn0iXSwic291cmNlUm9vdCI6IiJ9